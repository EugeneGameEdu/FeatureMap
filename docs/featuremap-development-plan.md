# FeatureMap ‚Äî –ü–ª–∞–Ω —Ä–∞–∑–≤–∏—Ç–∏—è –æ—Ç MVP –∫ –ø—Ä–æ–¥—É–∫—Ç—É

> –ü–æ—à–∞–≥–æ–≤—ã–π –ø–ª–∞–Ω —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ –Ω–æ–≤—ã—Ö —Ñ–∏—á —Å —Ñ–æ–∫—É—Å–æ–º –Ω–∞ –∫–∞—á–µ—Å—Ç–≤–æ, –º–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º–æ—Å—Ç—å –∏ –ø—Ä–∞–≤–∏–ª—å–Ω—É—é –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—É.

**–î–∞—Ç–∞:** –î–µ–∫–∞–±—Ä—å 2024  
**–°—Ç–∞—Ç—É—Å MVP:** –ì–æ—Ç–æ–≤ –∏ —Ä–∞–±–æ—Ç–∞–µ—Ç  
**–í–µ—Ä—Å–∏—è –ø–ª–∞–Ω–∞:** 2.0 (–æ–±–Ω–æ–≤–ª–µ–Ω–æ –ø–æ—Å–ª–µ —Ä–µ–≤—å—é)

---

## üìù –ò—Å—Ç–æ—Ä–∏—è –∏–∑–º–µ–Ω–µ–Ω–∏–π –ø–ª–∞–Ω–∞

### –í–µ—Ä—Å–∏—è 2.1 ‚Äî –£–¥–∞–ª–µ–Ω–∏–µ raw-graph.yaml

**–ò–∑–º–µ–Ω–µ–Ω–æ:**
- –£–¥–∞–ª–µ–Ω—ã –≤—Å–µ —É–ø–æ–º–∏–Ω–∞–Ω–∏—è `raw-graph.yaml`
- –î–∞–Ω–Ω—ã–µ –∫–ª–∞—Å—Ç–µ—Ä–æ–≤ —Ç–µ–ø–µ—Ä—å —Ö—Ä–∞–Ω—è—Ç—Å—è –Ω–∞–ø—Ä—è–º—É—é –≤ `clusters/*.yaml`
- –û–±–Ω–æ–≤–ª–µ–Ω—ã –¥–∏–∞–≥—Ä–∞–º–º—ã —Å—Ç—Ä—É–∫—Ç—É—Ä—ã —Ñ–∞–π–ª–æ–≤

**–ü—Ä–∏—á–∏–Ω–∞:**
- –ü–∞—Ä—Å–µ—Ä –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –±—ã—Å—Ç—Ä—ã–π, –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ –Ω–µ –Ω—É–∂–Ω–æ
- –î—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –º–µ–∂–¥—É raw-graph –∏ clusters —Å–æ–∑–¥–∞–≤–∞–ª–æ –ø—É—Ç–∞–Ω–∏—Ü—É
- –£–ø—Ä–æ—â–µ–Ω–∏–µ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã

### –í–µ—Ä—Å–∏—è 2.0 - –û–±–Ω–æ–≤–ª–µ–Ω–∏—è –ø–æ—Å–ª–µ —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–æ–≥–æ —Ä–µ–≤—å—é

**–î–æ–±–∞–≤–ª–µ–Ω–æ:**

1. **–§–∞–∑–∞ 0: Contracts –∏ –≤–∞–ª–∏–¥–∞—Ü–∏—è** (–Ω–æ–≤–∞—è, –ø–µ—Ä–µ–¥ –≤—Å–µ–º)
   - TypeScript types + Zod schemas –¥–ª—è –≤—Å–µ—Ö —Å—Ç—Ä—É–∫—Ç—É—Ä
   - –î–µ—Ç–µ—Ä–º–∏–Ω–∏—Ä–æ–≤–∞–Ω–Ω–∞—è –∑–∞–ø–∏—Å—å YAML (—Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞, atomic write)
   - –ö–æ–º–∞–Ω–¥–∞ `featuremap validate`
   - Version checks –¥–ª—è —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç–∏

2. **–§–∞–∑–∞ 1.4: Cluster ID stability**
   - Matching –∫–ª–∞—Å—Ç–µ—Ä–æ–≤ –º–µ–∂–¥—É —Å–∫–∞–Ω–∞–º–∏ –ø–æ file overlap
   - –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —Å—Ç–∞—Ä—ã—Ö IDs –ø—Ä–∏ –ø–µ—Ä–µ–∏–º–µ–Ω–æ–≤–∞–Ω–∏–∏
   - –ö—Ä–∏—Ç–∏—á–Ω–æ –¥–ª—è —Å—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç–∏ `composition.hash` –≤ —Ñ–∞–∑–µ 2

3. **–†–∞—Å—à–∏—Ä–µ–Ω–∏—è —Å—É—â–µ—Å—Ç–≤—É—é—â–∏—Ö —à–∞–≥–æ–≤:**
   - **1.1:** –î–æ–±–∞–≤–ª–µ–Ω—ã locks –Ω–∞ clusters, layout.yaml –æ—Ç–¥–µ–ª—å–Ω–æ –æ—Ç graph.yaml
   - **1.2:** –î–æ–±–∞–≤–ª–µ–Ω—ã layerDetection (confidence + signals), override rules
   - **2.4:** –†–∞–∑–¥–µ–ª—ë–Ω –Ω–∞ 2.4a (get_grouping_input) –∏ 2.4b (save_features_from_grouping)
   - **7.1:** –ü–µ—Ä–µ–ø–∏—Å–∞–Ω –∫–∞–∫ —Å–æ–∑–¥–∞–Ω–∏–µ –∫–æ–º–∞–Ω–¥—ã `serve` (–Ω–µ "–¥–æ–±–∞–≤–ª–µ–Ω–∏–µ express –≤ web")

**–û–±–æ—Å–Ω–æ–≤–∞–Ω–∏–µ –∏–∑–º–µ–Ω–µ–Ω–∏–π:**
- **Schemas/validation** ‚Äî –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–∞—é—Ç —Ç–∏—Ö–∏–µ –±–∞–≥–∏ –∏ –±–∏—Ç—ã–µ YAML
- **–î–µ—Ç–µ—Ä–º–∏–Ω–∏—Ä–æ–≤–∞–Ω–Ω—ã–π YAML** ‚Äî —á–∏—Å—Ç—ã–µ git –¥–∏—Ñ—Ñ—ã
- **Cluster ID stability** ‚Äî –∫—Ä–∏—Ç–∏—á–Ω–æ –¥–ª—è —Å—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç–∏ —Ñ–∏—á (hash –∑–∞–≤–∏—Å–∏—Ç –æ—Ç cluster IDs)
- **Locks** ‚Äî –∑–∞—â–∏—Ç–∞ —Ä—É—á–Ω—ã—Ö –ø—Ä–∞–≤–æ–∫ –æ—Ç AI –ø–µ—Ä–µ–∑–∞–ø–∏—Å–∏
- **Confidence –¥–ª—è layer** ‚Äî –≤–∞–∂–Ω–æ –¥–ª—è conditional context loading (—Ñ–∞–∑–∞ 3.3)
- **–†–∞–∑–¥–µ–ª–µ–Ω–∏–µ MCP tools** ‚Äî —á–∏—Å—Ç–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ (—Å–µ—Ä–≤–µ—Ä –Ω–µ –∞–Ω–∞–ª–∏–∑–∏—Ä—É–µ—Ç, —Ç–æ–ª—å–∫–æ —Ö—Ä–∞–Ω–∏—Ç)
- **Serve –∫–æ–º–∞–Ω–¥–∞** ‚Äî –ø—Ä–∞–≤–∏–ª—å–Ω–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ API+WS+–≤–µ–± —Å —Å–∞–º–æ–≥–æ –Ω–∞—á–∞–ª–∞

---

## üìç –¢–µ–∫—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ (MVP)

**–ß—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç:**
- CLI: `init`, `scan`, `web` –∫–æ–º–∞–Ω–¥—ã
- –ê–ª–≥–æ—Ä–∏—Ç–º—ã: –ø–∞—Ä—Å–∏–Ω–≥ TypeScript (ts-morph), –≥—Ä–∞—Ñ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π, –≥—Ä—É–ø–ø–∏—Ä–æ–≤–∫–∞ –ø–æ –ø–∞–ø–∫–∞–º
- MCP Server: –±–∞–∑–æ–≤—ã–µ tools –¥–ª—è AI (`get_project_structure`, `get_current_features`, `update_feature`)
- –í–µ–±: React Flow –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è –∫–ª–∞—Å—Ç–µ—Ä–æ–≤, sidebar —Å –¥–µ—Ç–∞–ª—è–º–∏, –±–∞–∑–æ–≤—ã–π UI

**–°—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–∞–Ω–Ω—ã—Ö:**
```
.featuremap/
‚îú‚îÄ‚îÄ config.yaml           # Project configuration
‚îú‚îÄ‚îÄ clusters/             # Technical level (from scan)
‚îÇ   ‚îî‚îÄ‚îÄ *.yaml           # One file per cluster
‚îú‚îÄ‚îÄ features/             # Architectural level (from AI)
‚îÇ   ‚îî‚îÄ‚îÄ *.yaml           # One file per feature
‚îú‚îÄ‚îÄ groups/               # User-defined groups
‚îÇ   ‚îî‚îÄ‚îÄ *.yaml
‚îú‚îÄ‚îÄ context/              # Project context
‚îÇ   ‚îú‚îÄ‚îÄ tech-stack.yaml
‚îÇ   ‚îú‚îÄ‚îÄ conventions.yaml
‚îÇ   ‚îú‚îÄ‚îÄ decisions.yaml
‚îÇ   ‚îî‚îÄ‚îÄ ...
‚îú‚îÄ‚îÄ comments/             # Notes and comments
‚îÇ   ‚îî‚îÄ‚îÄ *.yaml
‚îú‚îÄ‚îÄ graph.yaml            # Nodes and edges (derived)
‚îî‚îÄ‚îÄ layout.yaml           # Node positions (authored)
```

**–û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è:**
- –ö–ª–∞—Å—Ç–µ—Ä—ã = –ø–∞–ø–∫–∏ (—Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏–π —É—Ä–æ–≤–µ–Ω—å)
- –î–∞–Ω–Ω—ã–µ –∫–ª–∞—Å—Ç–µ—Ä–æ–≤ —Ö—Ä–∞–Ω—è—Ç—Å—è –Ω–∞–ø—Ä—è–º—É—é –≤ `clusters/*.yaml`
- AI —Ç–æ–ª—å–∫–æ –æ–ø–∏—Å—ã–≤–∞–µ—Ç, –Ω–µ –≥—Ä—É–ø–ø–∏—Ä—É–µ—Ç
- –ù–µ—Ç –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞ –ø—Ä–æ–µ–∫—Ç–∞ –¥–ª—è AI
- –û–¥–Ω–æ—É—Ä–æ–≤–Ω–µ–≤–∞—è –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è
- Read-only –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å

---

## üéØ –¶–µ–ª–∏ —Ä–∞–∑–≤–∏—Ç–∏—è

### –ü–∞—Ä–∞–¥–∏–≥–º–∞
**–û—Ç –ø—Ä–æ—Ç–æ—Ç–∏–ø–∞ –∫ –ø—Ä–æ–¥—É–∫—Ç—É:**
- –ú–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –¥–∞–Ω–Ω—ã—Ö
- –ö–∞—á–µ—Å—Ç–≤–µ–Ω–Ω—ã–π –∫–æ–¥ (–Ω–µ "—Ö—É—è–∫-—Ö—É—è–∫")
- –ü—Ä–æ–¥—É–º–∞–Ω–Ω—ã–µ –∞–±—Å—Ç—Ä–∞–∫—Ü–∏–∏
- –ì–æ—Ç–æ–≤–Ω–æ—Å—Ç—å –∫ —Ä–æ—Å—Ç—É —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç–∏

### –ö–ª—é—á–µ–≤—ã–µ —Ñ–∏—á–∏ (–∏–∑ –æ–±—Å—É–∂–¥–µ–Ω–∏—è)
1. **AI-–≥—Ä—É–ø–ø–∏—Ä–æ–≤–∫–∞** ‚Äî –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã–µ —Ñ–∏—á–∏ –≤–º–µ—Å—Ç–æ –ø–∞–ø–æ–∫
2. **Project Context** ‚Äî tech stack, decisions, constraints –¥–ª—è AI
3. **–°–ª–æ–∏ –∏ –≥—Ä—É–ø–ø—ã** ‚Äî –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏—è –¥–ª—è –±–æ–ª—å—à–∏—Ö –ø—Ä–æ–µ–∫—Ç–æ–≤
4. **–¢—Ä—ë—Ö—É—Ä–æ–≤–Ω–µ–≤–∞—è –Ω–∞–≤–∏–≥–∞—Ü–∏—è** ‚Äî Architecture ‚Üí Clusters ‚Üí Files
5. **Design System** ‚Äî –ø—Ä–∞–≤–∏–ª–∞ –¥–∏–∑–∞–π–Ω–∞ –¥–ª—è AI
6. **–†–µ–¥–∞–∫—Ç–æ—Ä –≤ –≤–µ–±–µ** ‚Äî —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞
7. **–û–±—Ä–∞—Ç–Ω–∞—è —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å** ‚Äî Web ‚Üí Code
8. **–ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏** ‚Äî –∑–∞–º–µ—Ç–∫–∏ –Ω–∞ –∫–∞—Ä—Ç–µ

---

## üì¶ –§–∞–∑—ã —Ä–∞–∑–≤–∏—Ç–∏—è

–ü–ª–∞–Ω —Ä–∞–∑–±–∏—Ç –Ω–∞ —Ñ–∞–∑—ã, –∫–∞–∂–¥–∞—è —Ñ–∞–∑–∞ ‚Äî –Ω–∞ –≤–µ—Ä—Ç–∏–∫–∞–ª—å–Ω—ã–µ —Å—Ä–µ–∑—ã (—à–∞–≥–∏).  
–ö–∞–∂–¥—ã–π —à–∞–≥ –º–æ–∂–Ω–æ –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –æ—Ç–¥–µ–ª—å–Ω–æ.

---

## [done] –§–∞–∑–∞ 0: Contracts –∏ –≤–∞–ª–∏–¥–∞—Ü–∏—è

**–¶–µ–ª—å:** –ó–∞–ª–æ–∂–∏—Ç—å —Ñ—É–Ω–¥–∞–º–µ–Ω—Ç —Ç–∏–ø–æ–≤, —Å—Ö–µ–º –∏ –¥–µ—Ç–µ—Ä–º–∏–Ω–∏—Ä–æ–≤–∞–Ω–Ω–æ–π –∑–∞–ø–∏—Å–∏ –¥–∞–Ω–Ω—ã—Ö.

### [done] –®–∞–≥ 0.1: TypeScript types –∏ Zod schemas

**–ó–∞–¥–∞—á–∞:** –°–æ–∑–¥–∞—Ç—å –µ–¥–∏–Ω—ã–π –∏—Å—Ç–æ—á–Ω–∏–∫ –ø—Ä–∞–≤–¥—ã –¥–ª—è –≤—Å–µ—Ö —Å—Ç—Ä—É–∫—Ç—É—Ä –¥–∞–Ω–Ω—ã—Ö.

**–ß—Ç–æ –¥–µ–ª–∞–µ–º:**
- –°–æ–∑–¥–∞—Ç—å `packages/cli/src/types/` (–∏–ª–∏ `packages/core` –µ—Å–ª–∏ –Ω—É–∂–µ–Ω –æ—Ç–¥–µ–ª—å–Ω—ã–π –ø–∞–∫–µ—Ç)
- TypeScript interfaces –¥–ª—è –≤—Å–µ—Ö —Å—Ç—Ä—É–∫—Ç—É—Ä:
  - Config, Cluster, Feature, Group, Comment, Context sections, Graph, Layout
- Zod schemas –¥–ª—è runtime –≤–∞–ª–∏–¥–∞—Ü–∏–∏
- –ï–¥–∏–Ω—ã–π YAML loader/saver —Å –≤–∞–ª–∏–¥–∞—Ü–∏–µ–π

**–°—Ç—Ä—É–∫—Ç—É—Ä–∞:**
```typescript
// types/cluster.ts
export interface Cluster {
  id: string;
  layer: 'frontend' | 'backend' | 'shared' | 'infrastructure';
  files: string[];
  exports: Export[];
  imports: { internal: string[]; external: string[] };
  purpose_hint?: string;
  entry_points?: string[];
  compositionHash?: string; // –¥–ª—è —Å—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç–∏
}

// types/feature.ts
export interface Feature {
  id: string;
  name: string;
  description?: string;
  purpose?: string;
  source: 'auto' | 'ai' | 'user';
  status: 'active' | 'ignored' | 'deprecated';
  scope: 'frontend' | 'backend' | 'fullstack' | 'shared';
  clusters: string[];
  dependsOn?: string[];
  
  // –°—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç—å
  composition: {
    hash: string;
  };
  
  // Locks –¥–ª—è –∑–∞—â–∏—Ç—ã –æ—Ç –ø–µ—Ä–µ–∑–∞–ø–∏—Å–∏
  locks?: {
    name?: boolean;
    description?: boolean;
    clusters?: boolean;
    layer?: boolean;
  };
  
  metadata: {
    createdAt: string;
    updatedAt: string;
    lastModifiedBy: 'auto' | 'ai' | 'user';
    version: number;
  };
  
  reasoning?: string; // –æ—Ç AI
}

// schemas/feature.schema.ts
import { z } from 'zod';

export const FeatureSchema = z.object({
  id: z.string(),
  name: z.string(),
  description: z.string().optional(),
  source: z.enum(['auto', 'ai', 'user']),
  scope: z.enum(['frontend', 'backend', 'fullstack', 'shared']),
  clusters: z.array(z.string()),
  composition: z.object({
    hash: z.string()
  }),
  locks: z.object({
    name: z.boolean().optional(),
    description: z.boolean().optional(),
    clusters: z.boolean().optional(),
    layer: z.boolean().optional()
  }).optional(),
  metadata: z.object({
    createdAt: z.string(),
    updatedAt: z.string(),
    lastModifiedBy: z.enum(['auto', 'ai', 'user']),
    version: z.number()
  }),
  reasoning: z.string().optional()
});
```

**–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ:**
```bash
# –°–æ–∑–¥–∞—Ç—å —Ç–µ—Å—Ç–æ–≤—ã–µ YAML —Ñ–∞–π–ª—ã
# –ó–∞–≥—Ä—É–∑–∏—Ç—å —á–µ—Ä–µ–∑ loader
# –í–∞–ª–∏–¥–∞—Ü–∏—è –¥–æ–ª–∂–Ω–∞ –ø—Ä–æ–π—Ç–∏ –¥–ª—è –≤–∞–ª–∏–¥–Ω—ã—Ö, —É–ø–∞—Å—Ç—å –¥–ª—è –Ω–µ–≤–∞–ª–∏–¥–Ω—ã—Ö
```

**–ö—Ä–∏—Ç–µ—Ä–∏–π –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏:**
- –í—Å–µ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –ø–æ–∫—Ä—ã—Ç—ã types + schemas
- –í–∞–ª–∏–¥–∞—Ü–∏—è —Ä–∞–±–æ—Ç–∞–µ—Ç –∏ –≤—ã–¥–∞—ë—Ç –ø–æ–Ω—è—Ç–Ω—ã–µ –æ—à–∏–±–∫–∏

---

### [done] –®–∞–≥ 0.2: –î–µ—Ç–µ—Ä–º–∏–Ω–∏—Ä–æ–≤–∞–Ω–Ω–∞—è –∑–∞–ø–∏—Å—å YAML

**–ó–∞–¥–∞—á–∞:** –û–±–µ—Å–ø–µ—á–∏—Ç—å —Å—Ç–∞–±–∏–ª—å–Ω—ã–µ git –¥–∏—Ñ—Ñ—ã –ø—Ä–∏ –∑–∞–ø–∏—Å–∏ YAML.

**–ß—Ç–æ –¥–µ–ª–∞–µ–º:**
- –ï–¥–∏–Ω—ã–π YAML writer —Å –ø—Ä–∞–≤–∏–ª–∞–º–∏:
  - –°–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞ –∫–ª—é—á–µ–π –æ–±—ä–µ–∫—Ç–æ–≤ (—Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –ø–æ—Ä—è–¥–æ–∫)
  - –°–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞ –º–∞—Å—Å–∏–≤–æ–≤ –≥–¥–µ –ø–æ—Ä—è–¥–æ–∫ –Ω–µ –≤–∞–∂–µ–Ω (files, clusters, featureIds)
  - –§–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç –¥–∞—Ç (ISO 8601)
  - Atomic write (tmp file ‚Üí rename)
- –û–ø—Ä–µ–¥–µ–ª–∏—Ç—å derived vs authored —Ñ–∞–π–ª—ã:
  
  **Derived** (–ø–µ—Ä–µ—Å–æ–∑–¥–∞—é—Ç—Å—è):
  - `graph.yaml`
  - `context/tech-stack.yaml`
  - `context/conventions.yaml`
  
  **Authored** (—Ä–µ–¥–∞–∫—Ç–∏—Ä—É—é—Ç—Å—è):
  - `config.yaml`
  - `clusters/*.yaml`
  - `features/*.yaml`
  - `groups/*.yaml`
  - `context/decisions.yaml`
  - `context/constraints.yaml`
  - `context/overview.yaml`
  - `context/design-system.yaml`
  - `comments/*.yaml`
  - `layout.yaml`

**–ü—Ä–∞–≤–∏–ª–∞ –∑–∞–ø–∏—Å–∏:**
```typescript
interface YAMLWriteOptions {
  sortKeys?: boolean; // default: true
  sortArrays?: string[]; // –ø–æ–ª—è –∫–æ—Ç–æ—Ä—ã–µ –Ω—É–∂–Ω–æ —Å–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å
  atomicWrite?: boolean; // default: true
}

// –ü—Ä–∏–º–µ—Ä
writeYAML('feature.yaml', featureData, {
  sortKeys: true,
  sortArrays: ['files', 'clusters', 'dependsOn'],
  atomicWrite: true
});
```

**–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ:**
```bash
# –ó–∞–ø–∏—Å–∞—Ç—å –æ–¥–∏–Ω –∏ —Ç–æ—Ç –∂–µ –æ–±—ä–µ–∫—Ç –¥–≤–∞–∂–¥—ã
# Diff –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –ø—É—Å—Ç—ã–º
# –ò–∑–º–µ–Ω–∏—Ç—å –∑–Ω–∞—á–µ–Ω–∏–µ ‚Üí diff –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –º–∏–Ω–∏–º–∞–ª—å–Ω—ã–º
```

**–ö—Ä–∏—Ç–µ—Ä–∏–π –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏:**
- –ü–æ–≤—Ç–æ—Ä–Ω–∞—è –∑–∞–ø–∏—Å—å –Ω–µ —Å–æ–∑–¥–∞—ë—Ç diff
- –ò–∑–º–µ–Ω–µ–Ω–∏—è —á–∏—Ç–∞–µ–º—ã–µ –∏ –º–∏–Ω–∏–º–∞–ª—å–Ω—ã–µ

---

### [done] –®–∞–≥ 0.3: –ö–æ–º–∞–Ω–¥–∞ validate

**–ó–∞–¥–∞—á–∞:** CLI –∫–æ–º–∞–Ω–¥–∞ –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –≤—Å–µ—Ö —Ñ–∞–π–ª–æ–≤.

**–ß—Ç–æ –¥–µ–ª–∞–µ–º:**
- –ö–æ–º–∞–Ω–¥–∞ `featuremap validate`
- –ß–∏—Ç–∞–µ—Ç –≤—Å–µ `.featuremap/**/*.yaml`
- –ü—Ä–æ–≥–æ–Ω—è–µ—Ç —á–µ—Ä–µ–∑ Zod schemas
- –í—ã–≤–æ–¥–∏—Ç –æ—à–∏–±–∫–∏ —Å –ø–æ–Ω—è—Ç–Ω—ã–º–∏ —Å–æ–æ–±—â–µ–Ω–∏—è–º–∏

**–í—ã–≤–æ–¥:**
```bash
featuremap validate

Validating .featuremap/...
  ‚úì config.yaml
  ‚úì clusters/cli-commands.yaml
  ‚úó features/bad-feature.yaml
    - field 'scope' is required
    - field 'composition.hash' must be a string
  ‚úì context/tech-stack.yaml

Found 1 error in 12 files
```

**–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ:**
```bash
# –°–æ–∑–¥–∞—Ç—å —Ñ–∞–π–ª —Å –æ—à–∏–±–∫–∞–º–∏
featuremap validate
# –î–æ–ª–∂–µ–Ω –ø–æ–∫–∞–∑–∞—Ç—å –ø–æ–Ω—è—Ç–Ω—ã–µ –æ—à–∏–±–∫–∏

# –ò—Å–ø—Ä–∞–≤–∏—Ç—å
featuremap validate
# –î–æ–ª–∂–µ–Ω –ø—Ä–æ–π—Ç–∏
```

**–ö—Ä–∏—Ç–µ—Ä–∏–π –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏:**
- –í–∞–ª–∏–¥–∞—Ü–∏—è —Ä–∞–±–æ—Ç–∞–µ—Ç –¥–ª—è –≤—Å–µ—Ö —Ç–∏–ø–æ–≤ —Ñ–∞–π–ª–æ–≤
- –û—à–∏–±–∫–∏ –ø–æ–Ω—è—Ç–Ω—ã —á–µ–ª–æ–≤–µ–∫—É

---

### [done] –®–∞–≥ 0.4: Version checks

**–ó–∞–¥–∞—á–∞:** –ü—Ä–æ–≤–µ—Ä–∫–∞ –≤–µ—Ä—Å–∏–π —Ñ–∞–π–ª–æ–≤ –∏ –ø–æ–Ω—è—Ç–Ω—ã–µ –æ—à–∏–±–∫–∏ –ø—Ä–∏ –Ω–µ—Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç–∏.

**–ß—Ç–æ –¥–µ–ª–∞–µ–º:**
- –í—Å–µ —Ñ–∞–π–ª—ã –∏–º–µ—é—Ç –ø–æ–ª–µ `version: 1`
- –ü—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ –ø—Ä–æ–≤–µ—Ä—è–µ–º:
  - –ï—Å–ª–∏ version –æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç ‚Üí –æ—à–∏–±–∫–∞ "Old format, run migration"
  - –ï—Å–ª–∏ version > supported ‚Üí –æ—à–∏–±–∫–∞ "Update CLI"
  - –ï—Å–ª–∏ version < supported ‚Üí –ø—Ä–µ–¥–ª–æ–∂–∏—Ç—å –º–∏–≥—Ä–∞—Ü–∏—é (–ø–æ–∫–∞ –ø—Ä–æ—Å—Ç–æ –æ—à–∏–±–∫–∞)

**–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ:**
```bash
# –§–∞–π–ª –±–µ–∑ version
featuremap validate
# –û—à–∏–±–∫–∞: "config.yaml is missing version field"

# –§–∞–π–ª —Å version: 999
featuremap validate
# –û—à–∏–±–∫–∞: "config.yaml version 999 not supported, update CLI"
```

**–ö—Ä–∏—Ç–µ—Ä–∏–π –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏:**
- Version checks —Ä–∞–±–æ—Ç–∞—é—Ç
- –û—à–∏–±–∫–∏ –ø–æ–Ω—è—Ç–Ω—ã –∏ –¥–∞—é—Ç –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏

---

## [done] –§–∞–∑–∞ 1: –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä—ã

**–¶–µ–ª—å:** –ó–∞–ª–æ–∂–∏—Ç—å —Ñ—É–Ω–¥–∞–º–µ–Ω—Ç –¥–ª—è –Ω–æ–≤—ã—Ö —Ñ–∏—á, —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –¥–∞–Ω–Ω—ã—Ö.

### [done] –®–∞–≥ 1.1: –†–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –¥–∞–Ω–Ω—ã—Ö

**–ó–∞–¥–∞—á–∞:** –†–∞–∑–¥–µ–ª–∏—Ç—å –∫–ª–∞—Å—Ç–µ—Ä—ã –∏ —Ñ–∏—á–∏ –Ω–∞ —É—Ä–æ–≤–Ω–µ –¥–∞–Ω–Ω—ã—Ö.

**–ß—Ç–æ –¥–µ–ª–∞–µ–º:**
- –ü–µ—Ä–µ–∏–º–µ–Ω–æ–≤–∞—Ç—å —Ç–µ–∫—É—â–∏–µ `features/*.yaml` ‚Üí `clusters/*.yaml`
- –î–æ–±–∞–≤–∏—Ç—å –ø–æ–ª–µ `layer` (frontend/backend/shared/infra) –≤ –∫–ª–∞—Å—Ç–µ—Ä—ã
- –ê–ª–≥–æ—Ä–∏—Ç–º—ã –æ–ø—Ä–µ–¥–µ–ª—è—é—Ç layer –ø–æ –∏–º–ø–æ—Ä—Ç–∞–º
- –°–æ–∑–¥–∞—Ç—å –Ω–æ–≤—É—é –ø–∞–ø–∫—É `features/` –¥–ª—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã—Ö —Ñ–∏—á (–ø–æ–∫–∞ –ø—É—Å—Ç–∞—è)
- –°–æ–∑–¥–∞—Ç—å `layout.yaml` (–ø–æ–∫–∞ –ø—É—Å—Ç–æ–π) ‚Äî **–æ—Ç–¥–µ–ª—å–Ω–æ –æ—Ç graph.yaml**
- –î–æ–±–∞–≤–∏—Ç—å –≤ —Ñ–æ—Ä–º–∞—Ç —Ñ–∏—á –ø–æ–ª–µ `locks`:
  ```yaml
  locks:
    name: false
    description: false
    clusters: false  # –∑–∞—â–∏—Ç–∞ —Å–æ—Å—Ç–∞–≤–∞ –æ—Ç AI
    layer: false
  ```

**Layout vs Graph:**
- `graph.yaml` = derived (nodes/edges –±–µ–∑ –ø–æ–∑–∏—Ü–∏–π, –ø–µ—Ä–µ—Å–æ–∑–¥–∞—ë—Ç—Å—è –ø—Ä–∏ scan)
- `layout.yaml` = authored (–ø–æ–∑–∏—Ü–∏–∏ –Ω–æ–¥ –æ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è, –Ω–µ —Ç—Ä–æ–≥–∞–µ—Ç—Å—è –ø—Ä–∏ scan)

**–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ:**
```bash
featuremap scan
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å:
# - .featuremap/clusters/*.yaml —Å—É—â–µ—Å—Ç–≤—É—é—Ç
# - –ö–∞–∂–¥—ã–π –∫–ª–∞—Å—Ç–µ—Ä –∏–º–µ–µ—Ç –ø–æ–ª–µ layer
# - .featuremap/features/ –ø—É—Å—Ç–∞—è (–ø–æ–∫–∞)
# - .featuremap/layout.yaml —Å—É—â–µ—Å—Ç–≤—É–µ—Ç (–ø—É—Å—Ç–æ–π)
```

**–ö—Ä–∏—Ç–µ—Ä–∏–π –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏:**
- CLI —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–∞–∫ —Ä–∞–Ω—å—à–µ
- –í–µ–± –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –∫–ª–∞—Å—Ç–µ—Ä—ã (–ø–æ–∫–∞ –∫–∞–∫ "—Ñ–∏—á–∏")
- –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–∞–Ω–Ω—ã—Ö –≥–æ—Ç–æ–≤–∞ –¥–ª—è AI-–≥—Ä—É–ø–ø–∏—Ä–æ–≤–∫–∏
- Layout –æ—Ç–¥–µ–ª—ë–Ω –æ—Ç graph

---

### [done] –®–∞–≥ 1.2: –†–∞—Å—à–∏—Ä–µ–Ω–∏–µ –º–µ—Ç–∞–¥–∞–Ω–Ω—ã—Ö –∫–ª–∞—Å—Ç–µ—Ä–æ–≤

**–ó–∞–¥–∞—á–∞:** –î–æ–±–∞–≤–∏—Ç—å –≤ `clusters/*.yaml` –±–æ–ª—å—à–µ –º–µ—Ç–∞–¥–∞–Ω–Ω—ã—Ö –¥–ª—è AI.

**–ß—Ç–æ –¥–µ–ª–∞–µ–º:**
- –î–ª—è –∫–∞–∂–¥–æ–≥–æ –∫–ª–∞—Å—Ç–µ—Ä–∞ –≤ `clusters/*.yaml` –¥–æ–±–∞–≤–∏—Ç—å:
  - `entry_points` (—Ñ–∞–π–ª—ã —Å main/index –∏–ª–∏ —ç–∫—Å–ø–æ—Ä—Ç–∞–º–∏ –∫–æ–º–∞–Ω–¥)
  - `imports_external` (–∫–∞–∫–∏–µ –≤–Ω–µ—à–Ω–∏–µ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏ –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è)
  - `purpose_hint` (—ç–≤—Ä–∏—Å—Ç–∏—á–µ—Å–∫–æ–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ: "user commands", "code parsing", "UI rendering")
  - `layerDetection` (confidence + signals):
    ```yaml
    layerDetection:
      confidence: 0.85  # 0..1
      signals:
        - "imports react"
        - "imports @xyflow"
        - "no node: imports"
    ```

**–ê–ª–≥–æ—Ä–∏—Ç–º purpose_hint:**
- –ê–Ω–∞–ª–∏–∑ –Ω–∞–∑–≤–∞–Ω–∏–π –ø–∞–ø–æ–∫ –∏ —Ñ–∞–π–ª–æ–≤
- –ê–Ω–∞–ª–∏–∑ —ç–∫—Å–ø–æ—Ä—Ç–æ–≤ (commands ‚Üí "user commands", parsers ‚Üí "code parsing")
- –ê–Ω–∞–ª–∏–∑ –∏–º–ø–æ—Ä—Ç–æ–≤ (react ‚Üí "UI rendering", express ‚Üí "API server")

**Layer detection —Å confidence:**
```typescript
function detectLayer(cluster): LayerDetection {
  const signals: string[] = [];
  let layer: Layer;
  let confidence = 0;
  
  // Frontend signals
  if (hasImport('react', 'vue')) {
    signals.push('imports react/vue');
    layer = 'frontend';
    confidence += 0.4;
  }
  
  // Backend signals
  if (hasImport('node:', 'express')) {
    signals.push('imports node:*/express');
    layer = 'backend';
    confidence += 0.4;
  }
  
  // Path signals
  if (cluster.path.includes('/web/')) {
    signals.push('path contains /web/');
    confidence += 0.2;
  }
  
  return { layer, confidence: Math.min(confidence, 1.0), signals };
}
```

**Override rules –≤ config:**
```yaml
# .featuremap/config.yaml
layerRules:
  - pattern: "packages/shared/**"
    layer: shared
  - pattern: "packages/ssr/**"
    layer: fullstack
```

**–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ:**
```bash
featuremap scan
cat .featuremap/clusters/*.yaml
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —á—Ç–æ –∫–ª–∞—Å—Ç–µ—Ä—ã –∏–º–µ—é—Ç:
# - entry_points
# - imports_external
# - purpose_hint
# - layerDetection (confidence, signals)
```

**–ö—Ä–∏—Ç–µ—Ä–∏–π –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏:**
- `clusters/*.yaml` —Å–æ–¥–µ—Ä–∂–∏—Ç –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –¥–ª—è AI-–∞–Ω–∞–ª–∏–∑–∞
- –≠–≤—Ä–∏—Å—Ç–∏–∫–∏ purpose_hint —Ä–∞–±–æ—Ç–∞—é—Ç —Ä–∞–∑—É–º–Ω–æ
- Layer detection –∏–º–µ–µ—Ç confidence scores
- Override rules —Ä–∞–±–æ—Ç–∞—é—Ç

---

### [done] –®–∞–≥ 1.3: –°–æ–∑–¥–∞–Ω–∏–µ –ø–∞–ø–∫–∏ context/

**–ó–∞–¥–∞—á–∞:** –ü–æ–¥–≥–æ—Ç–æ–≤–∏—Ç—å —Å—Ç—Ä—É–∫—Ç—É—Ä—É –¥–ª—è Project Context.

**–ß—Ç–æ –¥–µ–ª–∞–µ–º:**
- –°–æ–∑–¥–∞—Ç—å `.featuremap/context/` –ø–∞–ø–∫—É
- –°–æ–∑–¥–∞—Ç—å –ø—É—Å—Ç—ã–µ —à–∞–±–ª–æ–Ω—ã:
  - `tech-stack.yaml` (–±—É–¥–µ—Ç –∑–∞–ø–æ–ª–Ω–µ–Ω –∞–ª–≥–æ—Ä–∏—Ç–º–∞–º–∏)
  - `decisions.yaml` (–ø—É—Å—Ç–æ–π, –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è)
  - `conventions.yaml` (–±—É–¥–µ—Ç –∑–∞–ø–æ–ª–Ω–µ–Ω –∞–ª–≥–æ—Ä–∏—Ç–º–∞–º–∏)
  - `constraints.yaml` (–ø—É—Å—Ç–æ–π, –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è)
  - `overview.yaml` (–ø—É—Å—Ç–æ–π, –¥–ª—è AI)

**–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ:**
```bash
featuremap init
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —á—Ç–æ .featuremap/context/ —Å–æ–∑–¥–∞–ª–∞—Å—å —Å —Ñ–∞–π–ª–∞–º–∏
```

**–ö—Ä–∏—Ç–µ—Ä–∏–π –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏:**
- –°—Ç—Ä—É–∫—Ç—É—Ä–∞ context/ –≥–æ—Ç–æ–≤–∞
- –®–∞–±–ª–æ–Ω—ã –≤–∞–ª–∏–¥–Ω—ã (–ø—É—Å—Ç—ã–µ –Ω–æ —Å –ø—Ä–∞–≤–∏–ª—å–Ω–æ–π —Å—Ç—Ä—É–∫—Ç—É—Ä–æ–π)

---

### [done] –®–∞–≥ 1.4: Cluster ID stability

**–ó–∞–¥–∞—á–∞:** –û–±–µ—Å–ø–µ—á–∏—Ç—å —Å—Ç–∞–±–∏–ª—å–Ω—ã–µ ID –∫–ª–∞—Å—Ç–µ—Ä–æ–≤ –ø—Ä–∏ –ø–µ—Ä–µ–∏–º–µ–Ω–æ–≤–∞–Ω–∏–∏ –ø–∞–ø–æ–∫/—Ñ–∞–π–ª–æ–≤.

**–ü–æ—á–µ–º—É –≤–∞–∂–Ω–æ:**
- –í —Ñ–∞–∑–µ 2.6 –±—É–¥–µ—Ç `composition.hash` –¥–ª—è —Å—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç–∏ —Ñ–∏—á
- Hash –∑–∞–≤–∏—Å–∏—Ç –æ—Ç cluster IDs + –∏—Ö —Ñ–∞–π–ª–æ–≤
- –ï—Å–ª–∏ cluster IDs –ø—Ä—ã–≥–∞—é—Ç ‚Üí hash "–¥—Ä–æ–∂–∏—Ç" ‚Üí —Ñ–∏—á–∏ –Ω–µ—Å—Ç–∞–±–∏–ª—å–Ω—ã ‚Üí –≥—Ä—É–ø–ø—ã/–∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ —Ç–µ—Ä—è—é—Ç –ø—Ä–∏–≤—è–∑–∫–∏

**–ß—Ç–æ –¥–µ–ª–∞–µ–º:**
- –ü—Ä–∏ scan:
  1. –ó–∞–≥—Ä—É–∑–∏—Ç—å —Å—Ç–∞—Ä—ã–µ –∫–ª–∞—Å—Ç–µ—Ä—ã (–µ—Å–ª–∏ –µ—Å—Ç—å)
  2. –ù–∞–π—Ç–∏ –Ω–æ–≤—ã–µ –∫–ª–∞—Å—Ç–µ—Ä—ã (–æ—Ç –∞–ª–≥–æ—Ä–∏—Ç–º–æ–≤)
  3. –°–æ–ø–æ—Å—Ç–∞–≤–∏—Ç—å –Ω–æ–≤—ã–µ ‚Üî —Å—Ç–∞—Ä—ã–µ –ø–æ overlap —Ñ–∞–π–ª–æ–≤ (Jaccard similarity)
  4. –ï—Å–ª–∏ overlap > 70% ‚Üí —Å–æ—Ö—Ä–∞–Ω–∏—Ç—å —Å—Ç–∞—Ä—ã–π ID
  5. –ï—Å–ª–∏ –Ω–µ—Ç match ‚Üí —Å–æ–∑–¥–∞—Ç—å –Ω–æ–≤—ã–π ID
- –î–æ–±–∞–≤–∏—Ç—å –≤ –∫–ª–∞—Å—Ç–µ—Ä –ø–æ–ª–µ `compositionHash` (hash –æ—Ç —Å–ø–∏—Å–∫–∞ —Ñ–∞–π–ª–æ–≤)

**–ê–ª–≥–æ—Ä–∏—Ç–º matching:**
```typescript
function matchClusters(oldClusters, newClusters) {
  for (const newCluster of newClusters) {
    let bestMatch = null;
    let bestScore = 0;
    
    for (const oldCluster of oldClusters) {
      // Jaccard similarity: |A ‚à© B| / |A ‚à™ B|
      const intersection = getIntersection(newCluster.files, oldCluster.files);
      const union = getUnion(newCluster.files, oldCluster.files);
      const score = intersection.size / union.size;
      
      if (score > bestScore && score > 0.7) {
        bestMatch = oldCluster;
        bestScore = score;
      }
    }
    
    if (bestMatch) {
      newCluster.id = bestMatch.id; // –°–æ—Ö—Ä–∞–Ω—è–µ–º —Å—Ç–∞—Ä—ã–π ID
    } else {
      newCluster.id = generateNewId(); // –ù–æ–≤—ã–π ID
    }
  }
}
```

**–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ:**
```bash
# –ü–µ—Ä–≤—ã–π scan
featuremap scan
cat .featuremap/clusters/cli-commands.yaml
# id: "cli-commands"

# –ü–µ—Ä–µ–∏–º–µ–Ω–æ–≤–∞—Ç—å –ø–∞–ø–∫—É commands ‚Üí cmds
featuremap scan
cat .featuremap/clusters/cli-commands.yaml
# id –¥–æ–ª–∂–µ–Ω –æ—Å—Ç–∞—Ç—å—Å—è "cli-commands" (—Ñ–∞–π–ª—ã —Ç–µ –∂–µ)

# –î–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤—ã–µ —Ñ–∞–π–ª—ã –≤ –∫–ª–∞—Å—Ç–µ—Ä
featuremap scan
# compositionHash –¥–æ–ª–∂–µ–Ω –æ–±–Ω–æ–≤–∏—Ç—å—Å—è, –Ω–æ id —Ç–æ—Ç –∂–µ

# –£–¥–∞–ª–∏—Ç—å –ø–æ–ª–æ–≤–∏–Ω—É —Ñ–∞–π–ª–æ–≤
featuremap scan
# –ï—Å–ª–∏ overlap < 70% ‚Üí –Ω–æ–≤—ã–π ID
```

**–ö—Ä–∏—Ç–µ—Ä–∏–π –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏:**
- –ü—Ä–∏ –ø–µ—Ä–µ–∏–º–µ–Ω–æ–≤–∞–Ω–∏–∏ –ø–∞–ø–∫–∏ ID —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è
- –ü—Ä–∏ –¥–æ–±–∞–≤–ª–µ–Ω–∏–∏/—É–¥–∞–ª–µ–Ω–∏–∏ —Ñ–∞–π–ª–æ–≤ ID —Å—Ç–∞–±–∏–ª–µ–Ω (–µ—Å–ª–∏ overlap >70%)
- compositionHash –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏—è—Ö

---

## [done] –§–∞–∑–∞ 2: AI-–≥—Ä—É–ø–ø–∏—Ä–æ–≤–∫–∞ –≤ —Ñ–∏—á–∏

**–¶–µ–ª—å:** –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å —è–¥—Ä–æ ‚Äî –≥—Ä—É–ø–ø–∏—Ä–æ–≤–∫—É –∫–ª–∞—Å—Ç–µ—Ä–æ–≤ –≤ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã–µ —Ñ–∏—á–∏.

### [done] –®–∞–≥ 2.1: Tech Stack –∞–Ω–∞–ª–∏–∑ (–∞–ª–≥–æ—Ä–∏—Ç–º–∏—á–µ—Å–∫–∏–π)

**–ó–∞–¥–∞—á–∞:** –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å tech-stack.yaml.

**–ß—Ç–æ –¥–µ–ª–∞–µ–º:**
- –°–∫–∞–Ω–µ—Ä —á–∏—Ç–∞–µ—Ç –≤—Å–µ package.json –≤ –ø—Ä–æ–µ–∫—Ç–µ
- –ò–∑–≤–ª–µ–∫–∞–µ—Ç dependencies –∏ devDependencies
- –ì—Ä—É–ø–ø–∏—Ä—É–µ—Ç –ø–æ –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º (frontend, backend, dev, ai)
- –û–ø—Ä–µ–¥–µ–ª—è–µ—Ç –Ω–∞–∑–Ω–∞—á–µ–Ω–∏–µ –±–∏–±–ª–∏–æ—Ç–µ–∫ (framework, ui, database, etc)
- –ì–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç `.featuremap/context/tech-stack.yaml`

**–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ:**
```bash
featuremap scan
cat .featuremap/context/tech-stack.yaml
# –î–æ–ª–∂–µ–Ω –±—ã—Ç—å —Å–ø–∏—Å–æ–∫ –≤—Å–µ—Ö –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π —Å –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º–∏
```

**–ö—Ä–∏—Ç–µ—Ä–∏–π –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏:**
- tech-stack.yaml –ø–æ–ª–Ω—ã–π –∏ –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–π
- AI —Å–º–æ–∂–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —ç—Ç—É –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é

---

### [done] –®–∞–≥ 2.2: Coding Conventions –∞–Ω–∞–ª–∏–∑ (–∞–ª–≥–æ—Ä–∏—Ç–º–∏—á–µ—Å–∫–∏–π)

**–ó–∞–¥–∞—á–∞:** –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ–ø—Ä–µ–¥–µ–ª–∏—Ç—å conventions –∏–∑ –∫–æ–¥–∞.

**–ß—Ç–æ –¥–µ–ª–∞–µ–º:**
- –ê–Ω–∞–ª–∏–∑ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏—Ö —Ñ–∞–π–ª–æ–≤:
  - –ü–∞—Ç—Ç–µ—Ä–Ω—ã –∏–º–µ–Ω–æ–≤–∞–Ω–∏—è (PascalCase –¥–ª—è –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤, camelCase –¥–ª—è —Ñ—É–Ω–∫—Ü–∏–π)
  - –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø–∞–ø–æ–∫ (–≥–¥–µ –ª–µ–∂–∞—Ç –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã, —É—Ç–∏–ª–∏—Ç—ã, —Ç–∏–ø—ã)
  - –ü–∞—Ç—Ç–µ—Ä–Ω—ã –∏–º–ø–æ—Ä—Ç–æ–≤ (–∞–ª–∏–∞—Å—ã, –æ—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω—ã–µ –ø—É—Ç–∏)
- –ì–µ–Ω–µ—Ä–∞—Ü–∏—è `.featuremap/context/conventions.yaml`

**–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ:**
```bash
featuremap scan
cat .featuremap/context/conventions.yaml
# –î–æ–ª–∂–Ω—ã –±—ã—Ç—å –æ–ø—Ä–µ–¥–µ–ª–µ–Ω—ã –ø–∞—Ç—Ç–µ—Ä–Ω—ã –ø—Ä–æ–µ–∫—Ç–∞
```

**–ö—Ä–∏—Ç–µ—Ä–∏–π –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏:**
- Conventions –æ—Ç—Ä–∞–∂–∞—é—Ç —Ä–µ–∞–ª—å–Ω—ã–µ –ø–∞—Ç—Ç–µ—Ä–Ω—ã –ø—Ä–æ–µ–∫—Ç–∞
- –î–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –¥–ª—è AI

---

### [done] –®–∞–≥ 2.3: MCP Tool ‚Äî get_project_context

**–ó–∞–¥–∞—á–∞:** –ù–æ–≤—ã–π MCP tool –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞ –ø—Ä–æ–µ–∫—Ç–∞.

**–ß—Ç–æ –¥–µ–ª–∞–µ–º:**
- –°–æ–∑–¥–∞—Ç—å tool `get_project_context`
- –ü–∞—Ä–∞–º–µ—Ç—Ä—ã: `sections` (–º–∞—Å—Å–∏–≤: tech-stack, conventions, decisions, etc), `layer` (optional)
- –ß–∏—Ç–∞–µ—Ç —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–µ —Ñ–∞–π–ª—ã –∏–∑ context/
- –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç JSON —Å –∫–æ–Ω—Ç–µ–∫—Å—Ç–æ–º

**–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ:**
```bash
# –í Cursor/Claude Desktop
# –ü–æ–ø—Ä–æ—Å–∏—Ç—å AI: "–ü–æ–∫–∞–∂–∏ tech stack –ø—Ä–æ–µ–∫—Ç–∞"
# –î–æ–ª–∂–µ–Ω –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å tool –∏ –≤—ã–≤–µ—Å—Ç–∏ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é
```

**–ö—Ä–∏—Ç–µ—Ä–∏–π –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏:**
- Tool —Ä–∞–±–æ—Ç–∞–µ—Ç –∏ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ
- AI –º–æ–∂–µ—Ç –∑–∞–ø—Ä–æ—Å–∏—Ç—å –∫–æ–Ω—Ç–µ–∫—Å—Ç –ø—Ä–æ–µ–∫—Ç–∞

---

### [done] –®–∞–≥ 2.4a: MCP Tool ‚Äî get_grouping_input

**–ó–∞–¥–∞—á–∞:** –ü–æ–¥–≥–æ—Ç–æ–≤–∏—Ç—å –∫–æ–º–ø–∞–∫—Ç–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –¥–ª—è AI-–∞–Ω–∞–ª–∏–∑–∞ –≥—Ä—É–ø–ø–∏—Ä–æ–≤–∫–∏.

**–ß—Ç–æ –¥–µ–ª–∞–µ–º:**
- –°–æ–∑–¥–∞—Ç—å tool `get_grouping_input`
- **–°–µ—Ä–≤–µ—Ä –Ω–µ –∞–Ω–∞–ª–∏–∑–∏—Ä—É–µ—Ç**, —Ç–æ–ª—å–∫–æ –æ—Ç–¥–∞—ë—Ç –¥–∞–Ω–Ω—ã–µ –¥–ª—è –º–æ–¥–µ–ª–∏
- –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç –∫–æ–º–ø–∞–∫—Ç–Ω—ã–π JSON:
  - –ö–ª–∞—Å—Ç–µ—Ä—ã: id, layer, layerDetection, purpose_hint, entry_points, imports_external (—Ç–æ–ø-N), fileCount, keyPaths
  - Dependencies –º–µ–∂–¥—É –∫–ª–∞—Å—Ç–µ—Ä–∞–º–∏ (–∞–≥—Ä–µ–≥–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ)
  - Context: tech-stack + conventions (–º–∏–Ω–∏–º–∞–ª—å–Ω—ã–π, –¥–ª—è –ø–æ–Ω–∏–º–∞–Ω–∏—è –ø—Ä–æ–µ–∫—Ç–∞)
  - Existing features (–µ—Å–ª–∏ –µ—Å—Ç—å) –¥–ª—è incremental update

**–§–æ—Ä–º–∞—Ç –æ—Ç–≤–µ—Ç–∞:**
```json
{
  "clusters": [
    {
      "id": "cli-commands",
      "layer": "backend",
      "layerDetection": { "confidence": 0.9, "signals": [...] },
      "purpose_hint": "user commands",
      "entry_points": ["init.ts", "scan.ts"],
      "imports_external": ["commander", "yaml"],
      "fileCount": 3,
      "keyPaths": ["packages/cli/src/commands/"]
    }
  ],
  "dependencies": {
    "cli-commands": ["cli-analyzer"]
  },
  "context": {
    "tech_stack": { "cli": "commander", "parser": "ts-morph" },
    "conventions": { "file_naming": "...", "folder_structure": "..." }
  },
  "existing_features": []  // –¥–ª—è incremental
}
```

**–ü—Ä–æ–º–ø—Ç –¥–ª—è AI** (–≤ –æ–ø–∏—Å–∞–Ω–∏–∏ tool):
```
This tool provides input data for grouping clusters into architectural features.

AI should analyze this data and create high-level features (3-7) that represent 
the architectural skeleton of the project.

GUIDELINES:
- Think in terms of PURPOSE, not implementation
- Group by "what this does for users/system"
- Each feature should be understandable to non-programmers
- Bad: "CLI Module", "Web Components"
- Good: "Code Analysis Engine", "Interactive Project Visualization"

After analysis, call save_features_from_grouping() with results.
```

**–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ:**
```bash
# –í Cursor/Claude Desktop
# –ü–æ–ø—Ä–æ—Å–∏—Ç—å AI: "–ü—Ä–æ–∞–Ω–∞–ª–∏–∑–∏—Ä—É–π —Å—Ç—Ä—É–∫—Ç—É—Ä—É –ø—Ä–æ–µ–∫—Ç–∞"
# AI –¥–æ–ª–∂–µ–Ω –≤—ã–∑–≤–∞—Ç—å get_grouping_input
# –ü–æ–ª—É—á–∏—Ç—å –¥–∞–Ω–Ω—ã–µ
```

**–ö—Ä–∏—Ç–µ—Ä–∏–π –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏:**
- Tool –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –∫–æ–º–ø–∞–∫—Ç–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ
- –ü—Ä–æ–º–ø—Ç –ø–æ–Ω—è—Ç–µ–Ω AI
- AI –º–æ–∂–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —ç—Ç–∏ –¥–∞–Ω–Ω—ã–µ –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞

---

### [done] –®–∞–≥ 2.4b: MCP Tool ‚Äî save_features_from_grouping

**–ó–∞–¥–∞—á–∞:** –°–æ—Ö—Ä–∞–Ω–∏—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã AI-–≥—Ä—É–ø–ø–∏—Ä–æ–≤–∫–∏.

**–ß—Ç–æ –¥–µ–ª–∞–µ–º:**
- –°–æ–∑–¥–∞—Ç—å tool `save_features_from_grouping`
- **AI –∞–Ω–∞–ª–∏–∑–∏—Ä—É–µ—Ç –≤ –º–æ–¥–µ–ª–∏** (–º–µ–∂–¥—É –≤—ã–∑–æ–≤–∞–º–∏ tools)
- **–°–µ—Ä–≤–µ—Ä —Ç–æ–ª—å–∫–æ –≤–∞–ª–∏–¥–∏—Ä—É–µ—Ç –∏ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç**
- –ü–∞—Ä–∞–º–µ—Ç—Ä—ã:
  ```json
  {
    "features": [
      {
        "id": "code-analysis-engine",
        "name": "Code Analysis Engine",
        "purpose": "Automatically scans project and understands structure",
        "scope": "backend",
        "clusters": ["cli-analyzer", "cli-watcher"],
        "reasoning": "Parser and watcher work together to analyze code"
      }
    ]
  }
  ```
- –í–∞–ª–∏–¥–∏—Ä—É–µ—Ç —á–µ—Ä–µ–∑ Zod schema
- –°–æ—Ö—Ä–∞–Ω—è–µ—Ç –≤ `.featuremap/features/*.yaml`
- –ü–µ—Ä–µ—Å–æ–±–∏—Ä–∞–µ—Ç derived –∞—Ä—Ç–µ—Ñ–∞–∫—Ç—ã (graph.yaml)

**–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ:**
```bash
# AI –¥–æ–ª–∂–µ–Ω —Å–∞–º:
# 1. –í—ã–∑–≤–∞—Ç—å get_grouping_input
# 2. –ü—Ä–æ–∞–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å –¥–∞–Ω–Ω—ã–µ
# 3. –í—ã–∑–≤–∞—Ç—å save_features_from_grouping —Å —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞–º–∏

featuremap scan --ai
# –ü–æ—Å–ª–µ —Ä–∞–±–æ—Ç—ã AI:
ls .featuremap/features/
# –î–æ–ª–∂–Ω—ã –±—ã—Ç—å —Ñ–∞–π–ª—ã —Ñ–∏—á
cat .featuremap/features/code-analysis.yaml
# –î–æ–ª–∂–Ω–∞ –±—ã—Ç—å –ø—Ä–∞–≤–∏–ª—å–Ω–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ —Å reasoning
```

**–ö—Ä–∏—Ç–µ—Ä–∏–π –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏:**
- AI —É—Å–ø–µ—à–Ω–æ –≥—Ä—É–ø–ø–∏—Ä—É–µ—Ç –∫–ª–∞—Å—Ç–µ—Ä—ã
- –§–∏—á–∏ –∏–º–µ—é—Ç –ø–æ–Ω—è—Ç–Ω—ã–µ –Ω–∞–∑–≤–∞–Ω–∏—è –∏ –æ–ø–∏—Å–∞–Ω–∏—è
- Reasoning –æ–±—ä—è—Å–Ω—è–µ—Ç –ª–æ–≥–∏–∫—É –≥—Ä—É–ø–ø–∏—Ä–æ–≤–∫–∏
- –í–∞–ª–∏–¥–∞—Ü–∏—è –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–∞–µ—Ç –æ—à–∏–±–∫–∏

---

### [done] –®–∞–≥ 2.5: –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞ (Level 1)

**–ó–∞–¥–∞—á–∞:** –í–µ–± –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Ñ–∏—á–∏ (–Ω–µ –∫–ª–∞—Å—Ç–µ—Ä—ã).

**–ß—Ç–æ –¥–µ–ª–∞–µ–º:**
- –ò–∑–º–µ–Ω–∏—Ç—å loadFeatureMap.ts ‚Äî —á–∏—Ç–∞—Ç—å features/*.yaml –≤–º–µ—Å—Ç–æ clusters/
- –û–±–Ω–æ–≤–∏—Ç—å graph.yaml –≥–µ–Ω–µ—Ä–∞—Ü–∏—é ‚Äî –Ω–æ–¥—ã = —Ñ–∏—á–∏
- Sidebar –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Ñ–∏—á—É —Å –µ—ë –∫–ª–∞—Å—Ç–µ—Ä–∞–º–∏ –≤–Ω—É—Ç—Ä–∏
- –î–æ–±–∞–≤–∏—Ç—å –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä "source: ai" vs "source: auto"

**–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ:**
```bash
featuremap web
# –ö–∞—Ä—Ç–∞ –¥–æ–ª–∂–Ω–∞ –ø–æ–∫–∞–∑—ã–≤–∞—Ç—å 3-7 —Ñ–∏—á (–Ω–µ –¥–µ—Å—è—Ç–∫–∏ –∫–ª–∞—Å—Ç–µ—Ä–æ–≤)
# –ö–ª–∏–∫ –Ω–∞ —Ñ–∏—á—É ‚Üí sidebar —Å –¥–µ—Ç–∞–ª—è–º–∏
# –î–æ–ª–∂–Ω—ã –±—ã—Ç—å –≤–∏–¥–Ω—ã –∫–ª–∞—Å—Ç–µ—Ä—ã –≤–Ω—É—Ç—Ä–∏ —Ñ–∏—á–∏
```

**–ö—Ä–∏—Ç–µ—Ä–∏–π –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏:**
- –í–µ–± –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã–π —É—Ä–æ–≤–µ–Ω—å
- –í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è —á–∏—Å—Ç–∞—è –∏ –ø–æ–Ω—è—Ç–Ω–∞—è
- –î–µ—Ç–∞–ª–∏ –¥–æ—Å—Ç—É–ø–Ω—ã –≤ sidebar

---

### [done] –®–∞–≥ 2.6: –°—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç—å —Ñ–∏—á (composition hash)

**–ó–∞–¥–∞—á–∞:** –î–æ–±–∞–≤–∏—Ç—å –º–µ—Ö–∞–Ω–∏–∑–º —Å—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç–∏ –¥–ª—è –ø–æ–≤—Ç–æ—Ä–Ω—ã—Ö scan.

**–ß—Ç–æ –¥–µ–ª–∞–µ–º:**
- –ö–∞–∂–¥–∞—è —Ñ–∏—á–∞ —Ö—Ä–∞–Ω–∏—Ç `composition.hash` (–æ—Ç —Å–ø–∏—Å–∫–∞ –∫–ª–∞—Å—Ç–µ—Ä–æ–≤ + –∏—Ö —Ñ–∞–π–ª–æ–≤)
- –ü—Ä–∏ scan --ai:
  - –ó–∞–≥—Ä—É–∑–∏—Ç—å —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ —Ñ–∏—á–∏
  - –ü–æ—Å—á–∏—Ç–∞—Ç—å –Ω–æ–≤—ã–µ hash –¥–ª—è –∫–ª–∞—Å—Ç–µ—Ä–æ–≤
  - –ï—Å–ª–∏ hash –Ω–µ –∏–∑–º–µ–Ω–∏–ª—Å—è ‚Üí skip (–Ω–µ –º–µ–Ω—è—Ç—å –Ω–∞–∑–≤–∞–Ω–∏–µ)
  - –ï—Å–ª–∏ –∏–∑–º–µ–Ω–∏–ª—Å—è ‚Üí AI —Ä–µ—à–∞–µ—Ç: –æ–±–Ω–æ–≤–∏—Ç—å –∏–ª–∏ –ø–µ—Ä–µ–∏–º–µ–Ω–æ–≤–∞—Ç—å
- –î–æ–±–∞–≤–∏—Ç—å `metadata.version` (–∏–Ω–∫—Ä–µ–º–µ–Ω—Ç –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏—è—Ö)

**–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ:**
```bash
# –ü–µ—Ä–≤—ã–π scan
featuremap scan --ai

# –ë–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏–π –∫–æ–¥–∞
featuremap scan --ai
# –§–∏—á–∏ –¥–æ–ª–∂–Ω—ã –æ—Å—Ç–∞—Ç—å—Å—è —Ç–µ–º–∏ –∂–µ

# –î–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤—ã–π —Ñ–∞–π–ª –≤ –∫–ª–∞—Å—Ç–µ—Ä
featuremap scan --ai
# Hash –æ–±–Ω–æ–≤–∏–ª—Å—è, –Ω–æ –Ω–∞–∑–≤–∞–Ω–∏–µ –æ—Å—Ç–∞–ª–æ—Å—å (minor change)

# –î–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤—ã–π –∫–ª–∞—Å—Ç–µ—Ä
featuremap scan --ai
# AI –º–æ–∂–µ—Ç –ø–µ—Ä–µ–∏–º–µ–Ω–æ–≤–∞—Ç—å —Ñ–∏—á—É (major change)
```

**–ö—Ä–∏—Ç–µ—Ä–∏–π –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏:**
- –§–∏—á–∏ —Å—Ç–∞–±–∏–ª—å–Ω—ã –ø—Ä–∏ –ø–æ–≤—Ç–æ—Ä–Ω—ã—Ö scan
- AI –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç minor vs major –∏–∑–º–µ–Ω–µ–Ω–∏—è
- –í–µ—Ä—Å–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–∞–±–æ—Ç–∞–µ—Ç

---

## [done] –§–∞–∑–∞ 3: Project Context (–ø–æ–ª–Ω—ã–π)

**–¶–µ–ª—å:** –î–∞—Ç—å AI –ø–æ–ª–Ω—ã–π –∫–æ–Ω—Ç–µ–∫—Å—Ç –ø—Ä–æ–µ–∫—Ç–∞ –¥–ª—è —É–º–Ω—ã—Ö —Ä–µ—à–µ–Ω–∏–π.

### [done] –®–∞–≥ 3.1: –ö–æ–º–∞–Ω–¥–∞ context init

**–ó–∞–¥–∞—á–∞:** CLI –∫–æ–º–∞–Ω–¥–∞ –¥–ª—è –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞.

**–ß—Ç–æ –¥–µ–ª–∞–µ–º:**
- –ö–æ–º–∞–Ω–¥–∞ `featuremap context init`
- –ó–∞–ø—É—Å–∫–∞–µ—Ç –∞–ª–≥–æ—Ä–∏—Ç–º—ã (tech-stack, conventions)
- AI –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç —á–µ—Ä–Ω–æ–≤–∏–∫ decisions.yaml –∏ overview.yaml
- –í—ã–≤–æ–¥–∏—Ç —á—Ç–æ —Å–æ–∑–¥–∞–Ω–æ –∏ –ø—Ä–µ–¥–ª–∞–≥–∞–µ—Ç –æ—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å

**–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ:**
```bash
featuremap context init
# –î–æ–ª–∂–Ω—ã —Å–æ–∑–¥–∞—Ç—å—Å—è –≤—Å–µ —Ñ–∞–π–ª—ã –≤ context/
# AI –¥–æ–ª–∂–µ–Ω –ø—Ä–µ–¥–ª–æ–∂–∏—Ç—å —Ä–∞–∑—É–º–Ω—ã–µ decisions
```

**–ö—Ä–∏—Ç–µ—Ä–∏–π –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏:**
- –ö–æ–Ω—Ç–µ–∫—Å—Ç –ø–æ–ª–Ω–æ—Å—Ç—å—é –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω
- –§–∞–π–ª—ã –≤–∞–ª–∏–¥–Ω—ã –∏ —Å–æ–¥–µ—Ä–∂–∞—Ç–µ–ª—å–Ω—ã

---

### [done] –®–∞–≥ 3.2: –†—É—á–Ω–æ–µ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ constraints –∏ decisions

**–ó–∞–¥–∞—á–∞:** –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –º–æ–∂–µ—Ç –≤—Ä—É—á–Ω—É—é –¥–æ–±–∞–≤–∏—Ç—å constraints.

**–ß—Ç–æ –¥–µ–ª–∞–µ–º:**
- –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è: –∫–∞–∫ –∑–∞–ø–æ–ª–Ω—è—Ç—å constraints.yaml –∏ decisions.yaml
- –í–∞–ª–∏–¥–∞—Ü–∏—è –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ (CLI –ø—Ä–æ–≤–µ—Ä—è–µ—Ç —Å—Ç—Ä—É–∫—Ç—É—Ä—É)
- –ü—Ä–∏–º–µ—Ä—ã –≤ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏—è—Ö —à–∞–±–ª–æ–Ω–æ–≤

**–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ:**
```bash
# –û—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å .featuremap/context/constraints.yaml
# –î–æ–±–∞–≤–∏—Ç—å –ø—Ä–∞–≤–∏–ª–∞
featuremap scan --ai
# AI –¥–æ–ª–∂–µ–Ω —É—á–∏—Ç—ã–≤–∞—Ç—å constraints –ø—Ä–∏ –∞–Ω–∞–ª–∏–∑–µ
```

**–ö—Ä–∏—Ç–µ—Ä–∏–π –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏:**
- –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –º–æ–∂–µ—Ç –¥–æ–±–∞–≤–ª—è—Ç—å constraints
- AI –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –∏—Ö –ø—Ä–∏ —Ä–∞–±–æ—Ç–µ

---

### [done] –®–∞–≥ 3.3: MCP Tool ‚Äî conditional context loading

**–ó–∞–¥–∞—á–∞:** AI –ø–æ–ª—É—á–∞–µ—Ç —Ç–æ–ª—å–∫–æ —Ä–µ–ª–µ–≤–∞–Ω—Ç–Ω—ã–π –∫–æ–Ω—Ç–µ–∫—Å—Ç.

**–ß—Ç–æ –¥–µ–ª–∞–µ–º:**
- –û–±–Ω–æ–≤–∏—Ç—å `get_project_context`:
  - –ü–∞—Ä–∞–º–µ—Ç—Ä `layer` (frontend/backend)
  - –ï—Å–ª–∏ layer=frontend ‚Üí –∑–∞–≥—Ä—É–∂–∞—Ç—å design-system.yaml (–µ—Å–ª–∏ –µ—Å—Ç—å)
  - –ï—Å–ª–∏ layer=backend ‚Üí design-system.yaml –Ω–µ –∑–∞–≥—Ä—É–∂–∞—Ç—å
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ layer –ø—Ä–∏ –∑–∞–ø—Ä–æ—Å–µ —Ñ–∏—á–∏

**–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ:**
```bash
# –ü–æ–ø—Ä–æ—Å–∏—Ç—å AI —Ä–∞–±–æ—Ç–∞—Ç—å —Å backend —Ñ–∏—á–µ–π
# Design system –Ω–µ –¥–æ–ª–∂–µ–Ω –∑–∞–≥—Ä—É–∂–∞—Ç—å—Å—è

# –ü–æ–ø—Ä–æ—Å–∏—Ç—å AI —Ä–∞–±–æ—Ç–∞—Ç—å —Å frontend —Ñ–∏—á–µ–π
# Design system –¥–æ–ª–∂–µ–Ω –∑–∞–≥—Ä—É–∑–∏—Ç—å—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏
```

**–ö—Ä–∏—Ç–µ—Ä–∏–π –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏:**
- –ö–æ–Ω—Ç–µ–∫—Å—Ç –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è —É–º–Ω–æ (–Ω–µ –≤—Å—ë –ø–æ–¥—Ä—è–¥)
- AI –ø–æ–ª—É—á–∞–µ—Ç —Ä–µ–ª–µ–≤–∞–Ω—Ç–Ω—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é

---

## –§–∞–∑–∞ 4: –°–ª–æ–∏ –∏ –≥—Ä—É–ø–ø—ã

**–¶–µ–ª—å:** –û—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏—è –¥–ª—è –±–æ–ª—å—à–∏—Ö –ø—Ä–æ–µ–∫—Ç–æ–≤ –∏ —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è.

### –®–∞–≥ 4.1: –°–ª–æ–∏ –≤ –¥–∞–Ω–Ω—ã—Ö

**–ó–∞–¥–∞—á–∞:** –§–∏—á–∏ –∏–º–µ—é—Ç –ø–æ–ª–µ layer, –≥—Ä—É–ø–ø–∏—Ä–æ–≤–∫–∞ –ø–æ —Å–ª–æ—è–º.

**–ß—Ç–æ –¥–µ–ª–∞–µ–º:**
- –§–∏—á–∏ –Ω–∞—Å–ª–µ–¥—É—é—Ç layer –æ—Ç –≤—Ö–æ–¥—è—â–∏—Ö –∫–ª–∞—Å—Ç–µ—Ä–æ–≤
- –ï—Å–ª–∏ –∫–ª–∞—Å—Ç–µ—Ä—ã –∏–∑ —Ä–∞–∑–Ω—ã—Ö —Å–ª–æ—ë–≤ ‚Üí scope = "fullstack"
- –û–±–Ω–æ–≤–∏—Ç—å graph.yaml ‚Äî –¥–æ–±–∞–≤–∏—Ç—å layer –∫ –Ω–æ–¥–∞–º

**–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ:**
```bash
featuremap scan --ai
cat .featuremap/features/*.yaml
# –ö–∞–∂–¥–∞—è —Ñ–∏—á–∞ –¥–æ–ª–∂–Ω–∞ –∏–º–µ—Ç—å scope (frontend/backend/fullstack)
```

**–ö—Ä–∏—Ç–µ—Ä–∏–π –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏:**
- –§–∏—á–∏ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –∫–ª–∞—Å—Å–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω—ã –ø–æ —Å–ª–æ—è–º

---

### [done] –®–∞–≥ 4.2: –§–∏–ª—å—Ç—Ä—ã –ø–æ —Å–ª–æ—è–º –≤ –≤–µ–±–µ

**–ó–∞–¥–∞—á–∞:** –í–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –ø–æ–∑–≤–æ–ª—è–µ—Ç —Ñ–∏–ª—å—Ç—Ä–æ–≤–∞—Ç—å –ø–æ —Å–ª–æ—è–º.

**–ß—Ç–æ –¥–µ–ª–∞–µ–º:**
- –î–æ–±–∞–≤–∏—Ç—å –≤ Header –∫–Ω–æ–ø–∫–∏: All / Frontend / Backend / Shared / Infrastructure
- –ü—Ä–∏ –∫–ª–∏–∫–µ ‚Äî —Ñ–∏–ª—å—Ç—Ä–æ–≤–∞—Ç—å –Ω–æ–¥—ã –Ω–∞ –∫–∞—Ä—Ç–µ
- Highlight –∞–∫—Ç–∏–≤–Ω–æ–≥–æ —Ñ–∏–ª—å—Ç—Ä–∞

**–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ:**
```bash
featuremap web
# –ö–ª–∏–∫–Ω—É—Ç—å "Frontend"
# –î–æ–ª–∂–Ω—ã –æ—Å—Ç–∞—Ç—å—Å—è —Ç–æ–ª—å–∫–æ frontend —Ñ–∏—á–∏
# –û—Å—Ç–∞–ª—å–Ω—ã–µ —Å–∫—Ä—ã—Ç—ã –∏–ª–∏ –∑–∞—Ç–µ–º–Ω–µ–Ω—ã
```

**–ö—Ä–∏—Ç–µ—Ä–∏–π –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏:**
- –§–∏–ª—å—Ç—Ä—ã —Ä–∞–±–æ—Ç–∞—é—Ç –ø–ª–∞–≤–Ω–æ
- –õ–µ–≥–∫–æ –ø–µ—Ä–µ–∫–ª—é—á–∞—Ç—å—Å—è –º–µ–∂–¥—É —Å–ª–æ—è–º–∏

---

### –®–∞–≥ 4.3: MCP Tool ‚Äî create_group

**–ó–∞–¥–∞—á–∞:** AI –º–æ–∂–µ—Ç —Å–æ–∑–¥–∞–≤–∞—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–µ –≥—Ä—É–ø–ø—ã.

**–ß—Ç–æ –¥–µ–ª–∞–µ–º:**
- Tool `create_group`
- –ü–∞—Ä–∞–º–µ—Ç—Ä—ã: name, description, featureIds
- –°–æ–∑–¥–∞—ë—Ç `.featuremap/groups/{id}.yaml`

**–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ:**
```bash
# –ü–æ–ø—Ä–æ—Å–∏—Ç—å AI: "–°–æ–∑–¥–∞–π –≥—Ä—É–ø–ø—É Core Features –∏–∑ —ç—Ç–∏—Ö —Ñ–∏—á"
# –î–æ–ª–∂–µ–Ω —Å–æ–∑–¥–∞—Ç—å—Å—è —Ñ–∞–π–ª groups/core-features.yaml
```

**–ö—Ä–∏—Ç–µ—Ä–∏–π –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏:**
- AI –º–æ–∂–µ—Ç —Å–æ–∑–¥–∞–≤–∞—Ç—å –≥—Ä—É–ø–ø—ã –ø–æ –∑–∞–ø—Ä–æ—Å—É

---

### –®–∞–≥ 4.4: –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Å–æ–∑–¥–∞–Ω–∏–µ –≥—Ä—É–ø–ø –ø—Ä–∏ scan --ai

**–ó–∞–¥–∞—á–∞:** AI –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–µ–¥–ª–∞–≥–∞–µ—Ç –≥—Ä—É–ø–ø—ã.

**–ß—Ç–æ –¥–µ–ª–∞–µ–º:**
- –ü—Ä–∏ scan --ai, –ø–æ—Å–ª–µ —Å–æ–∑–¥–∞–Ω–∏—è —Ñ–∏—á:
  - AI –∞–Ω–∞–ª–∏–∑–∏—Ä—É–µ—Ç —Ñ–∏—á–∏
  - –ü—Ä–µ–¥–ª–∞–≥–∞–µ—Ç 3-5 –ª–æ–≥–∏—á–µ—Å–∫–∏—Ö –≥—Ä—É–ø–ø (Core, Experimental, Infrastructure, etc)
  - –°–æ—Ö—Ä–∞–Ω—è–µ—Ç –≤ groups/

**–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ:**
```bash
featuremap scan --ai
ls .featuremap/groups/
# –î–æ–ª–∂–Ω—ã –±—ã—Ç—å —Ñ–∞–π–ª—ã –≥—Ä—É–ø–ø
cat .featuremap/groups/core.yaml
# –î–æ–ª–∂–Ω—ã –±—ã—Ç—å —Ñ–∏—á–∏ –∏ reasoning
```

**–ö—Ä–∏—Ç–µ—Ä–∏–π –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏:**
- –ì—Ä—É–ø–ø—ã —Å–æ–∑–¥–∞—é—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∏ —Ä–∞–∑—É–º–Ω–æ

---

### –®–∞–≥ 4.5: –§–∏–ª—å—Ç—Ä—ã –ø–æ –≥—Ä—É–ø–ø–∞–º –≤ –≤–µ–±–µ

**–ó–∞–¥–∞—á–∞:** –í–µ–± –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –≥—Ä—É–ø–ø—ã –∏ –ø–æ–∑–≤–æ–ª—è–µ—Ç —Ñ–∏–ª—å—Ç—Ä–æ–≤–∞—Ç—å.

**–ß—Ç–æ –¥–µ–ª–∞–µ–º:**
- –í—Ç–æ—Ä–æ–π —Ä—è–¥ —Ñ–∏–ª—å—Ç—Ä–æ–≤ –ø–æ–¥ —Å–ª–æ—è–º–∏: –≥—Ä—É–ø–ø—ã
- Dropdown –∏–ª–∏ —Ç–∞–±—ã —Å –≥—Ä—É–ø–ø–∞–º–∏
- –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –ø–æ –≥—Ä—É–ø–ø–µ + —Å–ª–æ—é (–∫–æ–º–±–∏–Ω–∏—Ä–æ–≤–∞–Ω–Ω–∞—è)

**–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ:**
```bash
featuremap web
# –í—ã–±—Ä–∞—Ç—å –≥—Ä—É–ø–ø—É "Core Features"
# –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Ç–æ–ª—å–∫–æ —Ñ–∏—á–∏ –∏–∑ —ç—Ç–æ–π –≥—Ä—É–ø–ø—ã
# –ö–æ–º–±–æ: Frontend + Core Features
# –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç frontend —Ñ–∏—á–∏ –∏–∑ core
```

**–ö—Ä–∏—Ç–µ—Ä–∏–π –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏:**
- –ì—Ä—É–ø–ø—ã –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è –∏ —Ñ–∏–ª—å—Ç—Ä—É—é—Ç—Å—è
- –ö–æ–º–±–∏–Ω–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —Ñ–∏–ª—å—Ç—Ä—ã —Ä–∞–±–æ—Ç–∞—é—Ç

---

## –§–∞–∑–∞ 5: –¢—Ä—ë—Ö—É—Ä–æ–≤–Ω–µ–≤–∞—è –Ω–∞–≤–∏–≥–∞—Ü–∏—è

**–¶–µ–ª—å:** Drill-down –æ—Ç –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã –¥–æ —Ñ–∞–π–ª–æ–≤.

### –®–∞–≥ 5.1: MCP Tools –¥–ª—è –Ω–∞–≤–∏–≥–∞—Ü–∏–∏

**–ó–∞–¥–∞—á–∞:** –î–æ–±–∞–≤–∏—Ç—å tools –¥–ª—è —Ä–∞–∑–Ω—ã—Ö —É—Ä–æ–≤–Ω–µ–π –¥–µ—Ç–∞–ª–∏–∑–∞—Ü–∏–∏.

**–ß—Ç–æ –¥–µ–ª–∞–µ–º:**
- `get_architecture_overview` ‚Äî Level 1 (—Ñ–∏—á–∏)
- `get_feature_details(featureId)` ‚Äî Level 2 (–∫–ª–∞—Å—Ç–µ—Ä—ã –≤–Ω—É—Ç—Ä–∏ —Ñ–∏—á–∏)
- `get_cluster_files(clusterId)` ‚Äî Level 3 (—Ñ–∞–π–ª—ã –≤ –∫–ª–∞—Å—Ç–µ—Ä–µ)
- `find_relevant_features(query, layer?, groupId?)` ‚Äî —É–º–Ω—ã–π –ø–æ–∏—Å–∫

**–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ:**
```bash
# –ü–æ–ø—Ä–æ—Å–∏—Ç—å AI: "–ü–æ–∫–∞–∂–∏ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—É –ø—Ä–æ–µ–∫—Ç–∞"
# –î–æ–ª–∂–µ–Ω –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å get_architecture_overview

# "–î–µ—Ç–∞–ª–∏ —Ñ–∏—á–∏ Code Analysis"
# –î–æ–ª–∂–µ–Ω –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å get_feature_details

# "–§–∞–π–ª—ã –≤ –∫–ª–∞—Å—Ç–µ—Ä–µ cli-analyzer"
# –î–æ–ª–∂–µ–Ω –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å get_cluster_files
```

**–ö—Ä–∏—Ç–µ—Ä–∏–π –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏:**
- AI –Ω–∞–≤–∏–≥–∏—Ä—É–µ—Ç –ø–æ —É—Ä–æ–≤–Ω—è–º
- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç –ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ tools –¥–ª—è –Ω—É–∂–Ω–æ–≥–æ —É—Ä–æ–≤–Ω—è

---

### –®–∞–≥ 5.2: –í–µ–± ‚Äî –∫–ª–∏–∫ –Ω–∞ —Ñ–∏—á—É –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –∫–ª–∞—Å—Ç–µ—Ä—ã

**–ó–∞–¥–∞—á–∞:** –ü—Ä–∏ –∫–ª–∏–∫–µ –Ω–∞ —Ñ–∏—á—É ‚Äî —Ä–∞—Å–∫—Ä—ã–≤–∞—é—Ç—Å—è –∫–ª–∞—Å—Ç–µ—Ä—ã –≤–Ω—É—Ç—Ä–∏.

**–ß—Ç–æ –¥–µ–ª–∞–µ–º:**
- –í Sidebar –¥–æ–±–∞–≤–∏—Ç—å —Å–µ–∫—Ü–∏—é "Clusters"
- –°–ø–∏—Å–æ–∫ –∫–ª–∞—Å—Ç–µ—Ä–æ–≤ —Å –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ–º —Ñ–∞–π–ª–æ–≤
- –ö–ª–∏–∫ –Ω–∞ –∫–ª–∞—Å—Ç–µ—Ä ‚Üí —Ä–∞—Å–∫—Ä—ã–≤–∞–µ—Ç —Å–ø–∏—Å–æ–∫ —Ñ–∞–π–ª–æ–≤ (–≤ —Ç–æ–º –∂–µ sidebar)

**–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ:**
```bash
featuremap web
# –ö–ª–∏–∫–Ω—É—Ç—å –Ω–∞ —Ñ–∏—á—É
# Sidebar –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –∫–ª–∞—Å—Ç–µ—Ä—ã
# –ö–ª–∏–∫–Ω—É—Ç—å –Ω–∞ –∫–ª–∞—Å—Ç–µ—Ä
# Sidebar –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è –∏ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Ñ–∞–π–ª—ã
```

**–ö—Ä–∏—Ç–µ—Ä–∏–π –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏:**
- –ù–∞–≤–∏–≥–∞—Ü–∏—è Level 1 ‚Üí Level 2 ‚Üí Level 3 —Ä–∞–±–æ—Ç–∞–µ—Ç
- Breadcrumbs –ø–æ–∫–∞–∑—ã–≤–∞—é—Ç —Ç–µ–∫—É—â–∏–π —É—Ä–æ–≤–µ–Ω—å

---

### –®–∞–≥ 5.3: –í–µ–± ‚Äî –ø–æ–∏—Å–∫ –∏ —Ñ–æ–∫—É—Å

**–ó–∞–¥–∞—á–∞:** –ü–æ–∏—Å–∫ –ø–æ —Ñ–∏—á–∞–º, –∫–ª–∞—Å—Ç–µ—Ä–∞–º, —Ñ–∞–π–ª–∞–º.

**–ß—Ç–æ –¥–µ–ª–∞–µ–º:**
- Search bar –≤ Header
- –ü–æ–∏—Å–∫ –ø–æ –Ω–∞–∑–≤–∞–Ω–∏—è–º —Ñ–∏—á –∏ –∫–ª–∞—Å—Ç–µ—Ä–æ–≤
- –ü—Ä–∏ –≤—ã–±–æ—Ä–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞ ‚Üí —Ñ–æ–∫—É—Å –Ω–∞ –Ω–æ–¥–µ + –æ—Ç–∫—Ä—ã—Ç—å sidebar

**–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ:**
```bash
featuremap web
# –í–≤–µ—Å—Ç–∏ "analysis" –≤ –ø–æ–∏—Å–∫
# –î–æ–ª–∂–Ω–∞ –Ω–∞–π—Ç–∏—Å—å —Ñ–∏—á–∞ Code Analysis
# –ö–ª–∏–∫ ‚Üí –∫–∞—Ä—Ç–∞ –∑—É–º–∏—Ç—Å—è –Ω–∞ —ç—Ç—É –Ω–æ–¥—É
```

**–ö—Ä–∏—Ç–µ—Ä–∏–π –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏:**
- –ü–æ–∏—Å–∫ –±—ã—Å—Ç—Ä—ã–π –∏ —Ä–µ–ª–µ–≤–∞–Ω—Ç–Ω—ã–π
- –§–æ–∫—É—Å —Ä–∞–±–æ—Ç–∞–µ—Ç –ø–ª–∞–≤–Ω–æ

---

## –§–∞–∑–∞ 6: Design System

**–¶–µ–ª—å:** AI –≥–µ–Ω–µ—Ä–∏—Ç UI –≤ —Å—Ç–∏–ª–µ –ø—Ä–æ–µ–∫—Ç–∞.

### –®–∞–≥ 6.1: –®–∞–±–ª–æ–Ω design-system.yaml

**–ó–∞–¥–∞—á–∞:** –°–æ–∑–¥–∞—Ç—å —Å—Ç—Ä—É–∫—Ç—É—Ä—É –¥–ª—è design system.

**–ß—Ç–æ –¥–µ–ª–∞–µ–º:**
- –î–æ–±–∞–≤–∏—Ç—å `.featuremap/context/design-system.yaml` (—à–∞–±–ª–æ–Ω)
- –°–µ–∫—Ü–∏–∏: philosophy, colors, typography, components, patterns, anti-patterns

**–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ:**
```bash
featuremap init
ls .featuremap/context/
# –î–æ–ª–∂–µ–Ω –±—ã—Ç—å design-system.yaml —Å –ø—Ä–∏–º–µ—Ä–∞–º–∏
```

**–ö—Ä–∏—Ç–µ—Ä–∏–π –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏:**
- –®–∞–±–ª–æ–Ω –≤–∞–ª–∏–¥–µ–Ω –∏ —Å–æ–¥–µ—Ä–∂–∏—Ç –ø—Ä–∏–º–µ—Ä—ã

---

### –®–∞–≥ 6.2: MCP ‚Äî design system –¥–ª—è frontend

**–ó–∞–¥–∞—á–∞:** Design system –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –¥–ª—è frontend.

**–ß—Ç–æ –¥–µ–ª–∞–µ–º:**
- –û–±–Ω–æ–≤–∏—Ç—å `get_project_context`:
  - –ï—Å–ª–∏ layer=frontend –∏–ª–∏ scope=frontend ‚Üí –∑–∞–≥—Ä—É–∂–∞—Ç—å design-system.yaml
  - –î–æ–±–∞–≤–ª—è—Ç—å –≤ –æ—Ç–≤–µ—Ç —Å–µ–∫—Ü–∏—é `design_system`

**–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ:**
```bash
# –ü–æ–ø—Ä–æ—Å–∏—Ç—å AI –¥–æ–±–∞–≤–∏—Ç—å –∫–Ω–æ–ø–∫—É –≤ –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–µ
# AI –¥–æ–ª–∂–µ–Ω –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –∏–∑ design system
# –ö–æ–¥ –¥–æ–ª–∂–µ–Ω —Å–ª–µ–¥–æ–≤–∞—Ç—å –ø—Ä–∞–≤–∏–ª–∞–º (shadcn, Tailwind, lucide)
```

**–ö—Ä–∏—Ç–µ—Ä–∏–π –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏:**
- AI –≤–∏–¥–∏—Ç design system –¥–ª—è frontend –∑–∞–¥–∞—á
- –ì–µ–Ω–µ—Ä–∏—Ç –∫–æ–¥ –≤ —Å—Ç–∏–ª–µ –ø—Ä–æ–µ–∫—Ç–∞

---

## –§–∞–∑–∞ 7: –†–µ–¥–∞–∫—Ç–æ—Ä –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞ –≤ –≤–µ–±–µ

**–¶–µ–ª—å:** –£–¥–æ–±–Ω–æ–µ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –≤—Å–µ—Ö context —Ñ–∞–π–ª–æ–≤.

### –®–∞–≥ 7.1: –ö–æ–º–∞–Ω–¥–∞ serve (API + WebSocket + MCP)

**–ó–∞–¥–∞—á–∞:** –°–æ–∑–¥–∞—Ç—å –µ–¥–∏–Ω—ã–π —Å–µ—Ä–≤–µ—Ä–Ω—ã–π –ø—Ä–æ—Ü–µ—Å—Å –¥–ª—è API, WebSocket –∏ –≤–µ–±–∞.

**–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω–æ–µ —Ä–µ—à–µ–Ω–∏–µ:**
- **–ù–ï** –¥–æ–±–∞–≤–ª—è—Ç—å express –≤–Ω—É—Ç—Ä–∏ `featuremap web`
- –°–æ–∑–¥–∞—Ç—å –Ω–æ–≤—É—é –∫–æ–º–∞–Ω–¥—É `featuremap serve` –∫–∞–∫ —Ü–µ–ª–µ–≤—É—é —Ñ–æ—Ä–º—É
- `featuremap web` —Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è –∞–ª–∏–∞—Å–æ–º/dev-—Ä–µ–∂–∏–º–æ–º

**–ß—Ç–æ –¥–µ–ª–∞–µ–º:**
- –°–æ–∑–¥–∞—Ç—å `src/commands/serve.ts`
- –ü–æ–¥–Ω–∏–º–∞–µ—Ç –µ–¥–∏–Ω—ã–π —Å–µ—Ä–≤–µ—Ä:
  - HTTP API (express) –Ω–∞ `/api/*`
  - WebSocket –Ω–∞ `/ws`
  - Static files (–≤ prod) –∏–ª–∏ Vite middleware (–≤ dev)
  - MCP —Å–µ—Ä–≤–µ—Ä (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ, –µ—Å–ª–∏ –Ω—É–∂–µ–Ω)
- Endpoints:
  - `POST /api/context/update` ‚Äî –æ–±–Ω–æ–≤–∏—Ç—å context —Ñ–∞–π–ª
  - `POST /api/features/update` ‚Äî –æ–±–Ω–æ–≤–∏—Ç—å —Ñ–∏—á—É
  - `POST /api/groups/create` ‚Äî —Å–æ–∑–¥–∞—Ç—å –≥—Ä—É–ø–ø—É
  - `POST /api/comments/create` ‚Äî —Å–æ–∑–¥–∞—Ç—å –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π
- –í–∞–ª–∏–¥–∞—Ü–∏—è –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ (Zod schemas)
- **Security:**
  - Session token (–≥–µ–Ω–µ—Ä–∏—Ç—Å—è –ø—Ä–∏ —Å—Ç–∞—Ä—Ç–µ)
  - –ü—Ä–æ–≤–µ—Ä–∫–∞ Origin/Host
  - Allowlist –ø—É—Ç–µ–π: —Ç–æ–ª—å–∫–æ `.featuremap/**`

**–°—Ç—Ä—É–∫—Ç—É—Ä–∞:**
```typescript
// serve.ts
import express from 'express';
import { WebSocketServer } from 'ws';

export async function serveCommand(options) {
  const app = express();
  const server = createServer(app);
  const wss = new WebSocketServer({ server });
  
  // Generate session token
  const sessionToken = generateToken();
  console.log('Session token:', sessionToken);
  
  // Security middleware
  app.use(validateOrigin);
  app.use(validateToken(sessionToken));
  
  // API routes
  app.post('/api/context/update', async (req, res) => {
    // Validate with Zod
    // Update file atomically
    // Broadcast via WebSocket
  });
  
  // Vite middleware (dev) or static files (prod)
  if (options.dev) {
    const vite = await createViteServer({ server: { middlewareMode: true } });
    app.use(vite.middlewares);
  } else {
    app.use(express.static('dist'));
  }
  
  server.listen(3000);
}
```

**–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ:**
```bash
featuremap serve
# –î–æ–ª–∂–µ–Ω –∑–∞–ø—É—Å—Ç–∏—Ç—å—Å—è —Å–µ—Ä–≤–µ—Ä
# –í—ã–≤–µ—Å—Ç–∏ session token
# –í–µ–± –¥–æ—Å—Ç—É–ø–µ–Ω –Ω–∞ localhost:3000
# API –¥–æ—Å—Ç—É–ø–µ–Ω –Ω–∞ localhost:3000/api

# curl -X POST localhost:3000/api/context/update
# –ë–µ–∑ —Ç–æ–∫–µ–Ω–∞ ‚Üí 403
# –° —Ç–æ–∫–µ–Ω–æ–º ‚Üí —Ñ–∞–π–ª –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è

featuremap web
# –î–æ–ª–∂–µ–Ω —Ä–∞–±–æ—Ç–∞—Ç—å –∫–∞–∫ –∞–ª–∏–∞—Å (–∑–∞–ø—É—Å—Ç–∏—Ç—å serve –≤ dev —Ä–µ–∂–∏–º–µ)
```

**–ö—Ä–∏—Ç–µ—Ä–∏–π –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏:**
- Serve –∫–æ–º–∞–Ω–¥–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç
- API –≤–∞–ª–∏–¥–∏—Ä—É–µ—Ç –∏ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç –¥–∞–Ω–Ω—ã–µ
- Security —Ä–∞–±–æ—Ç–∞–µ—Ç (token, origin)
- –í–µ–± —Ä–∞–±–æ—Ç–∞–µ—Ç —á–µ—Ä–µ–∑ serve

---

### –®–∞–≥ 7.2: Context Editor UI

**–ó–∞–¥–∞—á–∞:** –í–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –¥–ª—è —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞.

**–ß—Ç–æ –¥–µ–ª–∞–µ–º:**
- –ù–æ–≤–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞/—Ç–∞–± "Context"
- –°–µ–∫—Ü–∏–∏: Tech Stack (read-only), Decisions (—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–µ–º—ã–π), Constraints, Design System
- –§–æ—Ä–º—ã –¥–ª—è –¥–æ–±–∞–≤–ª–µ–Ω–∏—è/—Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è decisions –∏ constraints
- –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —á–µ—Ä–µ–∑ API

**–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ:**
```bash
featuremap web
# –ü–µ—Ä–µ–π—Ç–∏ –Ω–∞ –≤–∫–ª–∞–¥–∫—É Context
# –î–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤–æ–µ decision
# –°–æ—Ö—Ä–∞–Ω–∏—Ç—å
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ñ–∞–π–ª .featuremap/context/decisions.yaml
# –î–æ–ª–∂–Ω–æ –±—ã—Ç—å –¥–æ–±–∞–≤–ª–µ–Ω–æ
```

**–ö—Ä–∏—Ç–µ—Ä–∏–π –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏:**
- –†–µ–¥–∞–∫—Ç–æ—Ä –∏–Ω—Ç—É–∏—Ç–∏–≤–Ω—ã–π
- –ò–∑–º–µ–Ω–µ–Ω–∏—è —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
- –í–∞–ª–∏–¥–∞—Ü–∏—è —Ä–∞–±–æ—Ç–∞–µ—Ç

---

## –§–∞–∑–∞ 8: –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ –∏ –∑–∞–º–µ—Ç–∫–∏

**–¶–µ–ª—å:** –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –æ—Å—Ç–∞–≤–ª—è—Ç—å –∑–∞–º–µ—Ç–∫–∏ –Ω–∞ –∫–∞—Ä—Ç–µ.

### –®–∞–≥ 8.1: –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–∞–Ω–Ω—ã—Ö –¥–ª—è –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–µ–≤

**–ó–∞–¥–∞—á–∞:** –û–ø—Ä–µ–¥–µ–ª–∏—Ç—å —Ñ–æ—Ä–º–∞—Ç –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–µ–≤.

**–ß—Ç–æ –¥–µ–ª–∞–µ–º:**
- –°–æ–∑–¥–∞—Ç—å `.featuremap/comments/` –ø–∞–ø–∫—É
- –§–æ—Ä–º–∞—Ç comment.yaml:
  - id, type (feature-note/edge-note/free-note)
  - linkedTo (featureId –∏–ª–∏ edge –∏–ª–∏ position)
  - content, tags, priority, author

**–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ:**
```bash
# –í—Ä—É—á–Ω—É—é —Å–æ–∑–¥–∞—Ç—å –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —á—Ç–æ —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –≤–∞–ª–∏–¥–Ω–∞
```

**–ö—Ä–∏—Ç–µ—Ä–∏–π –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏:**
- –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∞ –∏ –¥–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∞

---

### –®–∞–≥ 8.2: MCP Tool ‚Äî get_feature_comments

**–ó–∞–¥–∞—á–∞:** AI –≤–∏–¥–∏—Ç –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ –∫ —Ñ–∏—á–∞–º.

**–ß—Ç–æ –¥–µ–ª–∞–µ–º:**
- Tool `get_feature_comments(featureId)`
- –ó–∞–≥—Ä—É–∂–∞–µ—Ç –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ —Å–≤—è–∑–∞–Ω–Ω—ã–µ —Å —Ñ–∏—á–µ–π
- AI —É—á–∏—Ç—ã–≤–∞–µ—Ç –∏—Ö –ø—Ä–∏ —Ä–∞–±–æ—Ç–µ

**–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ:**
```bash
# –î–æ–±–∞–≤–∏—Ç—å –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π "TODO: optimize this"
# –ü–æ–ø—Ä–æ—Å–∏—Ç—å AI —Ä–∞–±–æ—Ç–∞—Ç—å —Å —Ñ–∏—á–µ–π
# AI –¥–æ–ª–∂–µ–Ω —É–ø–æ–º—è–Ω—É—Ç—å TODO –≤ —Å–≤–æ–µ–º –æ—Ç–≤–µ—Ç–µ
```

**–ö—Ä–∏—Ç–µ—Ä–∏–π –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏:**
- AI –≤–∏–¥–∏—Ç –∏ —É—á–∏—Ç—ã–≤–∞–µ—Ç –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏

---

### –®–∞–≥ 8.3: UI –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–µ–≤

**–ó–∞–¥–∞—á–∞:** –í–µ–± –ø–æ–∑–≤–æ–ª—è–µ—Ç —Å–æ–∑–¥–∞–≤–∞—Ç—å –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏.

**–ß—Ç–æ –¥–µ–ª–∞–µ–º:**
- –ü—Ä–∞–≤—ã–π –∫–ª–∏–∫ –Ω–∞ –Ω–æ–¥–µ ‚Üí "Add comment"
- –î–∏–∞–ª–æ–≥ —Å –ø–æ–ª–µ–º —Ç–µ–∫—Å—Ç–∞, —Ç–µ–≥–∏, –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç
- –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —á–µ—Ä–µ–∑ API
- –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è –∫–∞–∫ –º–∞–ª–µ–Ω—å–∫–∏–µ –Ω–æ–¥—ã –Ω–∞ –∫–∞—Ä—Ç–µ

**–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ:**
```bash
featuremap web
# –ü—Ä–∞–≤—ã–π –∫–ª–∏–∫ –Ω–∞ —Ñ–∏—á–µ
# –î–æ–±–∞–≤–∏—Ç—å –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π
# –î–æ–ª–∂–µ–Ω –ø–æ—è–≤–∏—Ç—å—Å—è –Ω–∞ –∫–∞—Ä—Ç–µ —Ä—è–¥–æ–º —Å —Ñ–∏—á–µ–π
# –ö–ª–∏–∫ –Ω–∞ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π ‚Üí –ø–æ–∫–∞–∑–∞—Ç—å —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ
```

**–ö—Ä–∏—Ç–µ—Ä–∏–π –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏:**
- –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ —Å–æ–∑–¥–∞—é—Ç—Å—è –∏ –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è
- UI –∏–Ω—Ç—É–∏—Ç–∏–≤–Ω—ã–π

---

## –§–∞–∑–∞ 9: –û–±—Ä–∞—Ç–Ω–∞—è —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å (Web ‚Üí Code)

**–¶–µ–ª—å:** –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –≤ –≤–µ–±–µ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –≤ —Ñ–∞–π–ª—ã.

### –®–∞–≥ 9.1: WebSocket –¥–ª—è live updates

**–ó–∞–¥–∞—á–∞:** –í–µ–± –ø–æ–ª—É—á–∞–µ—Ç —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –æ–± –∏–∑–º–µ–Ω–µ–Ω–∏—è—Ö.

**–ß—Ç–æ –¥–µ–ª–∞–µ–º:**
- –î–æ–±–∞–≤–∏—Ç—å WebSocket —Å–µ—Ä–≤–µ—Ä –≤ CLI
- –ü—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ —Ñ–∞–π–ª–æ–≤ (—á–µ—Ä–µ–∑ API –∏–ª–∏ –≤—Ä—É—á–Ω—É—é) ‚Üí –æ—Ç–ø—Ä–∞–≤–∏—Ç—å —Å–æ–±—ã—Ç–∏–µ
- –í–µ–± —Å–ª—É—à–∞–µ—Ç —Å–æ–±—ã—Ç–∏—è –∏ –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∂–∞–µ—Ç –¥–∞–Ω–Ω—ã–µ

**–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ:**
```bash
# –û—Ç–∫—Ä—ã—Ç—å –≤–µ–±
# –í—Ä—É—á–Ω—É—é –æ—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å —Ñ–∞–π–ª —Ñ–∏—á–∏
# –í–µ–± –¥–æ–ª–∂–µ–Ω –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ–±–Ω–æ–≤–∏—Ç—å—Å—è
```

**–ö—Ä–∏—Ç–µ—Ä–∏–π –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏:**
- Live updates —Ä–∞–±–æ—Ç–∞—é—Ç
- –ù–µ—Ç –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ –≤—Ä—É—á–Ω—É—é –æ–±–Ω–æ–≤–ª—è—Ç—å —Å—Ç—Ä–∞–Ω–∏—Ü—É

---

### –®–∞–≥ 9.2: –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Ñ–∏—á –≤ –≤–µ–±–µ

**–ó–∞–¥–∞—á–∞:** –ú–æ–∂–Ω–æ –ø–µ—Ä–µ–∏–º–µ–Ω–æ–≤–∞—Ç—å —Ñ–∏—á—É –∏ –æ–±–Ω–æ–≤–∏—Ç—å –æ–ø–∏—Å–∞–Ω–∏–µ.

**–ß—Ç–æ –¥–µ–ª–∞–µ–º:**
- –í Sidebar –¥–æ–±–∞–≤–∏—Ç—å –∫–Ω–æ–ø–∫—É "Edit"
- –§–æ—Ä–º–∞ –¥–ª—è —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è name –∏ description
- –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —á–µ—Ä–µ–∑ API
- –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ graph.yaml

**–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ:**
```bash
featuremap web
# –û—Ç–∫—Ä—ã—Ç—å —Ñ–∏—á—É
# –ö–ª–∏–∫–Ω—É—Ç—å Edit
# –ò–∑–º–µ–Ω–∏—Ç—å –Ω–∞–∑–≤–∞–Ω–∏–µ
# –°–æ—Ö—Ä–∞–Ω–∏—Ç—å
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ñ–∞–π–ª ‚Äî –¥–æ–ª–∂–µ–Ω –æ–±–Ω–æ–≤–∏—Ç—å—Å—è
```

**–ö—Ä–∏—Ç–µ—Ä–∏–π –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏:**
- –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–∞–±–æ—Ç–∞–µ—Ç
- –ò–∑–º–µ–Ω–µ–Ω–∏—è –≤–µ—Ä—Å–∏–æ–Ω–∏—Ä—É—é—Ç—Å—è –≤ git

---

## –§–∞–∑–∞ 10: –ü–æ–ª–∏—Ä–æ–≤–∫–∞ –∏ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è

**–¶–µ–ª—å:** –§–∏–Ω–∞–ª—å–Ω–∞—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –∏ —É–ª—É—á—à–µ–Ω–∏–µ UX.

### –®–∞–≥ 10.1: –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –¥–ª—è –±–æ–ª—å—à–∏—Ö –ø—Ä–æ–µ–∫—Ç–æ–≤

**–ó–∞–¥–∞—á–∞:** –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –¥–ª—è –ø—Ä–æ–µ–∫—Ç–æ–≤ —Å 50+ —Ñ–∏—á–∞–º–∏.

**–ß—Ç–æ –¥–µ–ª–∞–µ–º:**
- –õ–µ–Ω–∏–≤–∞—è –∑–∞–≥—Ä—É–∑–∫–∞ –¥–∞–Ω–Ω—ã—Ö (–Ω–µ –≤—Å—ë —Å—Ä–∞–∑—É)
- –í–∏—Ä—Ç—É–∞–ª–∏–∑–∞—Ü–∏—è –≤ React Flow –¥–ª—è –±–æ–ª—å—à–∏—Ö –≥—Ä–∞—Ñ–æ–≤
- –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ –ø–∞—Ä—Å–∏–Ω–≥–∞
- –ò–Ω–∫—Ä–µ–º–µ–Ω—Ç–∞–ª—å–Ω—ã–π scan (—Ç–æ–ª—å–∫–æ –∏–∑–º–µ–Ω—ë–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã)

**–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ:**
```bash
# –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –Ω–∞ –±–æ–ª—å—à–æ–º –ø—Ä–æ–µ–∫—Ç–µ
# Scan –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –±—ã—Å—Ç—Ä—ã–º
# –í–µ–± –¥–æ–ª–∂–µ–Ω –≥—Ä—É–∑–∏—Ç—å—Å—è –ø–ª–∞–≤–Ω–æ
```

**–ö—Ä–∏—Ç–µ—Ä–∏–π –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏:**
- –†–∞–±–æ—Ç–∞–µ—Ç –Ω–∞ –ø—Ä–æ–µ–∫—Ç–∞—Ö 100+ —Ñ–∞–π–ª–æ–≤, 20+ —Ñ–∏—á –±–µ–∑ —Ç–æ—Ä–º–æ–∑–æ–≤

---

### –®–∞–≥ 10.2: –£–ª—É—á—à–µ–Ω–∏–µ –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏–∏

**–ó–∞–¥–∞—á–∞:** –ö—Ä–∞—Å–∏–≤–∞—è –∫–∞—Ä—Ç–∞ –∏ –ø–ª–∞–≤–Ω–∞—è –∞–Ω–∏–º–∞—Ü–∏—è.

**–ß—Ç–æ –¥–µ–ª–∞–µ–º:**
- –£–ª—É—á—à–∏—Ç—å –ª–µ–π–∞—É—Ç (dagre + customization)
- –ê–Ω–∏–º–∞—Ü–∏–∏ –ø–µ—Ä–µ—Ö–æ–¥–æ–≤
- Zoom –∏ pan –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è
- –ú–∏–Ω–∏-–∫–∞—Ä—Ç–∞ –¥–ª—è –Ω–∞–≤–∏–≥–∞—Ü–∏–∏
- –¢–µ–º–Ω–∞—è —Ç–µ–º–∞

**–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ:**
```bash
featuremap web
# –ö–∞—Ä—Ç–∞ –¥–æ–ª–∂–Ω–∞ –≤—ã–≥–ª—è–¥–µ—Ç—å –ø—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω–æ
# –ê–Ω–∏–º–∞—Ü–∏–∏ –ø–ª–∞–≤–Ω—ã–µ
# –ù–∞–≤–∏–≥–∞—Ü–∏—è —É–¥–æ–±–Ω–∞—è
```

**–ö—Ä–∏—Ç–µ—Ä–∏–π –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏:**
- –í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è –Ω–∞ —É—Ä–æ–≤–Ω–µ –ø—Ä–æ–¥—É–∫—Ç–∞

---

### –®–∞–≥ 10.3: –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –∏ –ø—Ä–∏–º–µ—Ä—ã

**–ó–∞–¥–∞—á–∞:** –ü–æ–ª–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π.

**–ß—Ç–æ –¥–µ–ª–∞–µ–º:**
- README —Å –ø—Ä–∏–º–µ—Ä–∞–º–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è
- –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –ø–æ —Å—Ç—Ä—É–∫—Ç—É—Ä–µ –¥–∞–Ω–Ω—ã—Ö
- –ì–∞–π–¥ –ø–æ –∑–∞–ø–æ–ª–Ω–µ–Ω–∏—é context —Ñ–∞–π–ª–æ–≤
- –í–∏–¥–µ–æ –∏–ª–∏ GIF –¥–µ–º–æ
- –ü—Ä–∏–º–µ—Ä—ã –¥–ª—è —Ä–∞–∑–Ω—ã—Ö —Ç–∏–ø–æ–≤ –ø—Ä–æ–µ–∫—Ç–æ–≤

**–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ:**
```bash
# –ù–æ–≤—ã–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –¥–æ–ª–∂–µ–Ω –ø–æ–Ω—è—Ç—å –∫–∞–∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∑–∞ 5 –º–∏–Ω—É—Ç
```

**–ö—Ä–∏—Ç–µ—Ä–∏–π –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏:**
- –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –ø–æ–ª–Ω–∞—è –∏ –ø–æ–Ω—è—Ç–Ω–∞—è

---

## üìã –ß–µ–∫-–ª–∏—Å—Ç —Ñ–∞–∑

### –§–∞–∑–∞ 0: Contracts –∏ –≤–∞–ª–∏–¥–∞—Ü–∏—è
- [done] 0.1 TypeScript types + Zod schemas
- [done] 0.2 –î–µ—Ç–µ—Ä–º–∏–Ω–∏—Ä–æ–≤–∞–Ω–Ω–∞—è –∑–∞–ø–∏—Å—å YAML
- [done] 0.3 –ö–æ–º–∞–Ω–¥–∞ validate
- [done] 0.4 Version checks

### –§–∞–∑–∞ 1: –ò–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞
- [done] 1.1 –†–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã (clusters vs features, locks, layout –æ—Ç–¥–µ–ª—å–Ω–æ)
- [done] 1.2 –†–∞—Å—à–∏—Ä–µ–Ω–∏–µ –º–µ—Ç–∞–¥–∞–Ω–Ω—ã—Ö (layer, purpose_hint, confidence)
- [done] 1.3 –°–æ–∑–¥–∞–Ω–∏–µ context/
- [done] 1.4 Cluster ID stability

### –§–∞–∑–∞ 2: AI-–≥—Ä—É–ø–ø–∏—Ä–æ–≤–∫–∞
- [done] 2.1 Tech Stack –∞–Ω–∞–ª–∏–∑
- [done] 2.2 Conventions –∞–Ω–∞–ª–∏–∑
- [done] 2.3 MCP get_project_context
- [done] 2.4a MCP get_grouping_input
- [done] 2.4b MCP save_features_from_grouping
- [done] 2.5 –í–µ–± Level 1 (—Ñ–∏—á–∏)
- [done] 2.6 –°—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç—å (composition hash)

### –§–∞–∑–∞ 3: Project Context
- [done] 3.1 –ö–æ–º–∞–Ω–¥–∞ context init
- [ ] 3.2 –†—É—á–Ω–æ–µ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
- [done] 3.3 Conditional context loading

### –§–∞–∑–∞ 4: –°–ª–æ–∏ –∏ –≥—Ä—É–ø–ø—ã
- [done] 4.1 –°–ª–æ–∏ –≤ –¥–∞–Ω–Ω—ã—Ö
- [ ] 4.2 –§–∏–ª—å—Ç—Ä—ã –ø–æ —Å–ª–æ—è–º (–≤–µ–±)
- [ ] 4.3 MCP create_group
- [ ] 4.4 –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –≥—Ä—É–ø–ø—ã
- [ ] 4.5 –§–∏–ª—å—Ç—Ä—ã –ø–æ –≥—Ä—É–ø–ø–∞–º (–≤–µ–±)

### –§–∞–∑–∞ 5: –ù–∞–≤–∏–≥–∞—Ü–∏—è
- [ ] 5.1 MCP tools –¥–ª—è –Ω–∞–≤–∏–≥–∞—Ü–∏–∏
- [ ] 5.2 –í–µ–± drill-down
- [ ] 5.3 –ü–æ–∏—Å–∫ –∏ —Ñ–æ–∫—É—Å

### –§–∞–∑–∞ 6: Design System
- [ ] 6.1 –®–∞–±–ª–æ–Ω design-system.yaml
- [ ] 6.2 MCP design system –¥–ª—è frontend

### –§–∞–∑–∞ 7: –†–µ–¥–∞–∫—Ç–æ—Ä
- [ ] 7.1 –ö–æ–º–∞–Ω–¥–∞ serve (API+WS+MCP)
- [ ] 7.2 Context Editor UI

### –§–∞–∑–∞ 8: –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏
- [ ] 8.1 –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–∞–Ω–Ω—ã—Ö
- [ ] 8.2 MCP get_feature_comments
- [ ] 8.3 UI –¥–ª—è –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–µ–≤

### –§–∞–∑–∞ 9: –û–±—Ä–∞—Ç–Ω–∞—è —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å
- [ ] 9.1 WebSocket live updates
- [ ] 9.2 –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Ñ–∏—á

### –§–∞–∑–∞ 10: –ü–æ–ª–∏—Ä–æ–≤–∫–∞
- [ ] 10.1 –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å
- [ ] 10.2 –í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è
- [ ] 10.3 –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

---

## üéØ –ü—Ä–∏–Ω—Ü–∏–ø—ã —Ä–∞–±–æ—Ç—ã

### –î–ª—è –∫–∞–∂–¥–æ–≥–æ —à–∞–≥–∞:
1. **–ß—ë—Ç–∫–∞—è —Ü–µ–ª—å** ‚Äî —á—Ç–æ –º—ã —Ö–æ—Ç–∏–º –ø–æ–ª—É—á–∏—Ç—å
2. **–í–µ—Ä—Ç–∏–∫–∞–ª—å–Ω—ã–π —Å—Ä–µ–∑** ‚Äî –º–æ–∂–Ω–æ –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –æ—Ç–¥–µ–ª—å–Ω–æ
3. **–†–∞–∑–º–µ—Ä –¥–ª—è Codex** ‚Äî –Ω–µ —Å–ª–∏—à–∫–æ–º –±–æ–ª—å—à–æ–π (~200-500 —Å—Ç—Ä–æ–∫ –∫–æ–¥–∞)
4. **–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ** ‚Äî –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏
5. **–ö—Ä–∏—Ç–µ—Ä–∏–π –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏** ‚Äî —á—ë—Ç–∫–∏–π –ø—Ä–∏–∑–Ω–∞–∫ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è

### –§–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–∏–µ –∑–∞–¥–∞—á –¥–ª—è Codex:
–ö–æ–≥–¥–∞ –±—É–¥–µ—à—å –¥–∞–≤–∞—Ç—å –∑–∞–¥–∞—á—É –¥–ª—è Codex:
1. –£–∫–∞–∂–∏ –Ω–æ–º–µ—Ä —à–∞–≥–∞
2. –î–∞–π –∫–æ–Ω—Ç–µ–∫—Å—Ç (–≤—Å–µ –¥–æ–∫–∏ + —ç—Ç–æ—Ç –ø–ª–∞–Ω)
3. –°–∫–∞–∂–∏ –≥–¥–µ –º—ã —Å–µ–π—á–∞—Å (–∫–∞–∫–∏–µ —à–∞–≥–∏ —É–∂–µ —Å–¥–µ–ª–∞–Ω—ã)
4. –£–∫–∞–∂–∏ –∫—Ä–∏—Ç–µ—Ä–∏–∏ –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏

### –ö–æ–º–º–∏—Ç—ã –∏ –æ—Ç–∫–∞—Ç—ã:
- –ü–æ—Å–ª–µ –∫–∞–∂–¥–æ–≥–æ —à–∞–≥–∞ ‚Äî –∫–æ–º–º–∏—Ç
- –ï—Å–ª–∏ —á—Ç–æ-—Ç–æ —Å–ª–æ–º–∞–ª–æ—Å—å ‚Äî –æ—Ç–∫–∞—Ç –∫ –ø–æ—Å–ª–µ–¥–Ω–µ–º—É —Ä–∞–±–æ—á–µ–º—É
- –ß—ë—Ç–∫–∏–µ commit messages —Å –Ω–æ–º–µ—Ä–æ–º —à–∞–≥–∞

---

## üöÄ –û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç

### –ü–æ—Å–ª–µ –≤—Å–µ—Ö —Ñ–∞–∑:

**CLI:**
```bash
featuremap init           # –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è —Å context
featuremap scan --ai      # AI-–≥—Ä—É–ø–ø–∏—Ä–æ–≤–∫–∞ –≤ —Ñ–∏—á–∏
featuremap context init   # –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞
featuremap web            # –ü–æ–ª–Ω–æ—Ü–µ–Ω–Ω—ã–π –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å
```

**MCP –¥–ª—è AI:**
- –ù–∞–≤–∏–≥–∞—Ü–∏—è –ø–æ —É—Ä–æ–≤–Ω—è–º (Architecture ‚Üí Clusters ‚Üí Files)
- Project Context –¥–ª—è —É–º–Ω—ã—Ö —Ä–µ—à–µ–Ω–∏–π
- Design System –¥–ª—è frontend –∑–∞–¥–∞—á
- –ü—Ä–æ—Å–º–æ—Ç—Ä –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–µ–≤

**–í–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å:**
- –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω–∞—è –∫–∞—Ä—Ç–∞ (3-7 —Ñ–∏—á)
- –§–∏–ª—å—Ç—Ä—ã –ø–æ —Å–ª–æ—è–º –∏ –≥—Ä—É–ø–ø–∞–º
- Drill-down –Ω–∞–≤–∏–≥–∞—Ü–∏—è
- –†–µ–¥–∞–∫—Ç–æ—Ä –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞
- –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ –Ω–∞ –∫–∞—Ä—Ç–µ
- Live updates

**–°—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–∞–Ω–Ω—ã—Ö:**
```
.featuremap/
‚îú‚îÄ‚îÄ config.yaml           # Project configuration
‚îú‚îÄ‚îÄ clusters/             # Technical level (from scan)
‚îÇ   ‚îî‚îÄ‚îÄ *.yaml           # One file per cluster
‚îú‚îÄ‚îÄ features/             # Architectural level (from AI)
‚îÇ   ‚îî‚îÄ‚îÄ *.yaml           # One file per feature
‚îú‚îÄ‚îÄ groups/               # User-defined groups
‚îÇ   ‚îî‚îÄ‚îÄ *.yaml
‚îú‚îÄ‚îÄ context/              # Project context
‚îÇ   ‚îú‚îÄ‚îÄ tech-stack.yaml
‚îÇ   ‚îú‚îÄ‚îÄ conventions.yaml
‚îÇ   ‚îú‚îÄ‚îÄ decisions.yaml
‚îÇ   ‚îî‚îÄ‚îÄ ...
‚îú‚îÄ‚îÄ comments/             # Notes and comments
‚îÇ   ‚îî‚îÄ‚îÄ *.yaml
‚îú‚îÄ‚îÄ graph.yaml            # Nodes and edges (derived)
‚îî‚îÄ‚îÄ layout.yaml           # Node positions (authored)
```

---

*–î–æ–∫—É–º–µ–Ω—Ç –≥–æ—Ç–æ–≤ –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏. –û–±–Ω–æ–≤–ª—è—Ç—å –ø–æ –º–µ—Ä–µ –ø—Ä–æ–≥—Ä–µ—Å—Å–∞.*
*–î–∞—Ç–∞ —Å–æ–∑–¥–∞–Ω–∏—è: –¥–µ–∫–∞–±—Ä—å 2024*
