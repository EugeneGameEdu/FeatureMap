version: 1
id: backend-controllers-socket
layer: backend
layerDetection:
  confidence: high
  signals:
    - path contains /backend/
    - path contains /controllers/
    - exports route handlers
    - imports Go web framework
files:
  - backend/controllers/socket/handler.go
  - backend/controllers/socket/message.go
  - backend/controllers/socket/server.go
  - backend/controllers/socket/user.go
exports:
  - name: AddUser
    type: function
  - name: Broadcast
    type: function
  - name: DisconnectUser
    type: function
  - name: err
    type: var
  - name: GetUsersByTopic
    type: function
  - name: Message
    type: struct
  - name: msg
    type: var
  - name: NewSocketServer
    type: function
  - name: processMessages
    type: function
  - name: sendCount
    type: var
  - name: SendMessage
    type: function
  - name: Server
    type: struct
  - name: upgrader
    type: var
  - name: User
    type: struct
  - name: users
    type: var
  - name: WebsocketHandler
    type: function
imports:
  external:
    - fmt
    - github.com/gorilla/websocket
    - github.com/sasha-s/go-deadlock
    - net/http
  internal:
    - projektps/helpers/uniuri
    - projektps/store
compositionHash: a36fcccbc40e5853
metadata:
  createdAt: 2026-01-07T11:21:49.952Z
  updatedAt: 2026-01-07T11:22:03.836Z
