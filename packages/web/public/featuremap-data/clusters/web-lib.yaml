version: 1
id: web-lib
layer: frontend
layerDetection:
  confidence: medium
  signals:
    - exports React components
    - imports @xyflow/react
    - imports react
    - path contains /lib/
    - path contains /web/
files:
  - packages/web/src/lib/commentLoader.ts
  - packages/web/src/lib/commentSchema.ts
  - packages/web/src/lib/commentsMode.ts
  - packages/web/src/lib/commentTypes.ts
  - packages/web/src/lib/commentVisibility.ts
  - packages/web/src/lib/contextLoader.ts
  - packages/web/src/lib/contextTypes.ts
  - packages/web/src/lib/featureMapLoaders.ts
  - packages/web/src/lib/focusHelpers.ts
  - packages/web/src/lib/graphLayout.ts
  - packages/web/src/lib/groupContainers.ts
  - packages/web/src/lib/groupDrag.ts
  - packages/web/src/lib/groupFilters.ts
  - packages/web/src/lib/groupLoader.ts
  - packages/web/src/lib/groupMembership.ts
  - packages/web/src/lib/groupPacking.ts
  - packages/web/src/lib/layerFilters.ts
  - packages/web/src/lib/loadFeatureMap.ts
  - packages/web/src/lib/searchIndex.ts
  - packages/web/src/lib/searchScoring.ts
  - packages/web/src/lib/searchVisibility.ts
  - packages/web/src/lib/types.ts
  - packages/web/src/lib/useCommentDeletion.ts
  - packages/web/src/lib/useCommentPersistence.ts
  - packages/web/src/lib/useCommentsApi.ts
  - packages/web/src/lib/useCommentsTool.ts
  - packages/web/src/lib/useContextApi.ts
  - packages/web/src/lib/useFeatureMapData.ts
  - packages/web/src/lib/useGroupApi.ts
  - packages/web/src/lib/useGroupLayoutActions.ts
  - packages/web/src/lib/useGroupSelection.ts
  - packages/web/src/lib/useLayoutApi.ts
  - packages/web/src/lib/useOrphanedComments.ts
  - packages/web/src/lib/useSearchNavigation.ts
  - packages/web/src/lib/utils.ts
  - packages/web/src/lib/wsClient.ts
  - packages/web/src/lib/yamlParsing.ts
exports:
  - isDefault: false
    name: addCommentLink
    type: function
  - isDefault: false
    name: applyGroupDragChanges
    type: function
  - isDefault: false
    name: applyGroupFilter
    type: function
  - isDefault: false
    name: applyLayerFilter
    type: function
  - isDefault: false
    name: applyLayoutPositions
    type: function
  - isDefault: false
    name: buildCommentElements
    type: function
  - isDefault: false
    name: buildCommentNodeId
    type: function
  - isDefault: false
    name: buildFocusState
    type: function
  - isDefault: false
    name: buildGroupContainerNodes
    type: function
  - isDefault: false
    name: buildGroupMembers
    type: function
  - isDefault: false
    name: buildGroupMembership
    type: function
  - isDefault: false
    name: buildGroupRectangles
    type: function
  - isDefault: false
    name: buildPrimaryGroupMembership
    type: function
  - isDefault: false
    name: buildSearchIndex
    type: function
  - isDefault: false
    name: Cluster
    type: type
  - isDefault: false
    name: ClusterExport
    type: type
  - isDefault: false
    name: ClusterImports
    type: type
  - isDefault: false
    name: ClusterSchema
    type: variable
  - isDefault: false
    name: cn
    type: function
  - isDefault: false
    name: collectMemberPositions
    type: function
  - isDefault: false
    name: COMMENT_EDGE_TYPE
    type: variable
  - isDefault: false
    name: COMMENT_NODE_PREFIX
    type: variable
  - isDefault: false
    name: CommentHomeView
    type: type
  - isDefault: false
    name: CommentIndex
    type: interface
  - isDefault: false
    name: CommentIndexSchema
    type: variable
  - isDefault: false
    name: CommentLink
    type: interface
  - isDefault: false
    name: CommentLinkType
    type: type
  - isDefault: false
    name: CommentListSchema
    type: variable
  - isDefault: false
    name: CommentNode
    type: interface
  - isDefault: false
    name: CommentNodeData
    type: interface
  - isDefault: false
    name: CommentNodeHandlers
    type: interface
  - isDefault: false
    name: CommentNodeSchema
    type: variable
  - isDefault: false
    name: CommentPosition
    type: interface
  - isDefault: false
    name: CommentPriority
    type: type
  - isDefault: false
    name: CommentsApiError
    type: class
  - isDefault: false
    name: CommentsApiErrorType
    type: type
  - isDefault: false
    name: CommentSaveState
    type: type
  - isDefault: false
    name: CommentToolMode
    type: type
  - isDefault: false
    name: CommentUpsertPayload
    type: interface
  - isDefault: false
    name: connectFeaturemapWs
    type: function
  - isDefault: false
    name: Constraints
    type: type
  - isDefault: false
    name: ConstraintsSchema
    type: variable
  - isDefault: false
    name: ContextApiError
    type: class
  - isDefault: false
    name: ContextApiErrorType
    type: type
  - isDefault: false
    name: ContextData
    type: interface
  - isDefault: false
    name: ContextFile
    type: interface
  - isDefault: false
    name: ContextStatus
    type: type
  - isDefault: false
    name: ContextUpdateResult
    type: interface
  - isDefault: false
    name: Conventions
    type: type
  - isDefault: false
    name: ConventionsSchema
    type: variable
  - isDefault: false
    name: createDraftComment
    type: function
  - isDefault: false
    name: Decisions
    type: type
  - isDefault: false
    name: DecisionsSchema
    type: variable
  - isDefault: false
    name: deriveFeatureLayers
    type: function
  - isDefault: false
    name: DesignSystem
    type: type
  - isDefault: false
    name: DesignSystemSchema
    type: variable
  - isDefault: false
    name: Feature
    type: type
  - isDefault: false
    name: FeatureClusterDetail
    type: type
  - isDefault: false
    name: FeatureClusterDetailSchema
    type: variable
  - isDefault: false
    name: FeatureDetails
    type: type
  - isDefault: false
    name: FeatureDetailsSchema
    type: variable
  - isDefault: false
    name: FeatureMapData
    type: interface
  - isDefault: false
    name: FeaturemapWsMessage
    type: type
  - isDefault: false
    name: FeatureSchema
    type: variable
  - isDefault: false
    name: focusNode
    type: function
  - isDefault: false
    name: formatDate
    type: function
  - isDefault: false
    name: getGroupIdFromContainer
    type: function
  - isDefault: false
    name: getGroupsForFeature
    type: function
  - isDefault: false
    name: getLayerOrder
    type: function
  - isDefault: false
    name: getLayoutedElements
    type: function
  - isDefault: false
    name: getVisibleCommentIds
    type: function
  - isDefault: false
    name: GraphData
    type: type
  - isDefault: false
    name: GraphEdge
    type: type
  - isDefault: false
    name: GraphEdgeSchema
    type: variable
  - isDefault: false
    name: GraphNode
    type: type
  - isDefault: false
    name: GraphNodeSchema
    type: variable
  - isDefault: false
    name: GraphSchema
    type: variable
  - isDefault: false
    name: Group
    type: type
  - isDefault: false
    name: GROUP_CONTAINER_ID_PREFIX
    type: variable
  - isDefault: false
    name: GROUP_CONTAINER_NODE_TYPE
    type: variable
  - isDefault: false
    name: GROUP_CONTAINER_PADDING
    type: variable
  - isDefault: false
    name: GROUP_HEADER_HEIGHT
    type: variable
  - isDefault: false
    name: GROUP_NOTE_HEIGHT
    type: variable
  - isDefault: false
    name: GROUP_PACK_MARGIN
    type: variable
  - isDefault: false
    name: GroupApiError
    type: class
  - isDefault: false
    name: GroupApiErrorType
    type: type
  - isDefault: false
    name: GroupContainerData
    type: interface
  - isDefault: false
    name: GroupContainerNode
    type: type
  - isDefault: false
    name: GroupDragStateEntry
    type: interface
  - isDefault: false
    name: GroupIndexSchema
    type: variable
  - isDefault: false
    name: GroupMember
    type: interface
  - isDefault: false
    name: GroupNoteUpdateResult
    type: interface
  - isDefault: false
    name: GroupRectangle
    type: interface
  - isDefault: false
    name: GroupSchema
    type: variable
  - isDefault: false
    name: GroupSource
    type: type
  - isDefault: false
    name: GroupSummary
    type: interface
  - isDefault: false
    name: inferCommentHomeView
    type: function
  - isDefault: false
    name: isCommentNodeId
    type: function
  - isDefault: false
    name: isDraftComment
    type: function
  - isDefault: false
    name: isDraftId
    type: function
  - isDefault: false
    name: Layer
    type: type
  - isDefault: false
    name: LayerFilter
    type: type
  - isDefault: false
    name: Layout
    type: type
  - isDefault: false
    name: LayoutApiError
    type: class
  - isDefault: false
    name: LayoutApiErrorType
    type: type
  - isDefault: false
    name: LayoutSchema
    type: variable
  - isDefault: false
    name: LayoutUpdateResult
    type: interface
  - isDefault: false
    name: loadClustersById
    type: function
  - isDefault: false
    name: loadClusterYamlSafe
    type: function
  - isDefault: false
    name: loadComments
    type: function
  - isDefault: false
    name: loadContextFiles
    type: function
  - isDefault: false
    name: loadFeatureMap
    type: function
  - isDefault: false
    name: loadFeaturesById
    type: function
  - isDefault: false
    name: loadFeatureYamlSafe
    type: function
  - isDefault: false
    name: loadGraphYaml
    type: function
  - isDefault: false
    name: loadGroups
    type: function
  - isDefault: false
    name: loadLayoutYaml
    type: function
  - isDefault: false
    name: MapEntity
    type: type
  - isDefault: false
    name: mergeSavedComments
    type: function
  - isDefault: false
    name: NodeType
    type: type
  - isDefault: false
    name: normalizeText
    type: function
  - isDefault: false
    name: Overview
    type: type
  - isDefault: false
    name: OverviewSchema
    type: variable
  - isDefault: false
    name: packGroupRectangles
    type: function
  - isDefault: false
    name: parseYamlWithSchema
    type: function
  - isDefault: false
    name: PrimaryGroupMembership
    type: interface
  - isDefault: false
    name: rankSearchResults
    type: function
  - isDefault: false
    name: removeCommentLink
    type: function
  - isDefault: false
    name: resolveCommentHomeView
    type: function
  - isDefault: false
    name: resolveVisibility
    type: function
  - isDefault: false
    name: SearchIndexEntry
    type: interface
  - isDefault: false
    name: SearchResultType
    type: type
  - isDefault: false
    name: SearchWarning
    type: interface
  - isDefault: false
    name: sortCommentLinks
    type: function
  - isDefault: false
    name: TechStack
    type: type
  - isDefault: false
    name: TechStackSchema
    type: variable
  - isDefault: false
    name: toggleAddMode
    type: function
  - isDefault: false
    name: tokenize
    type: function
  - isDefault: false
    name: UiComment
    type: interface
  - isDefault: false
    name: useCommentDeletion
    type: function
  - isDefault: false
    name: useCommentPersistence
    type: function
  - isDefault: false
    name: useCommentsApi
    type: function
  - isDefault: false
    name: useCommentsTool
    type: function
  - isDefault: false
    name: UseCommentsToolResult
    type: interface
  - isDefault: false
    name: useContextApi
    type: function
  - isDefault: false
    name: useFeatureMapData
    type: function
  - isDefault: false
    name: useGroupApi
    type: function
  - isDefault: false
    name: useGroupLayoutActions
    type: function
  - isDefault: false
    name: useGroupSelection
    type: function
  - isDefault: false
    name: useLayoutApi
    type: function
  - isDefault: false
    name: useOrphanedComments
    type: function
  - isDefault: false
    name: useSearchNavigation
    type: function
  - isDefault: false
    name: ViewMode
    type: type
  - isDefault: false
    name: VisibilityResult
    type: interface
imports:
  external:
    - "@dagrejs/dagre"
    - "@xyflow/react"
    - clsx
    - js-yaml
    - react
    - tailwind-merge
    - zod
  internal:
    - ./commentLoader
    - ./commentSchema
    - ./commentsMode
    - ./commentTypes
    - ./commentVisibility
    - ./contextLoader
    - ./contextTypes
    - ./featureMapLoaders
    - ./focusHelpers
    - ./groupContainers
    - ./groupFilters
    - ./groupLoader
    - ./groupMembership
    - ./groupPacking
    - ./layerFilters
    - ./loadFeatureMap
    - ./searchIndex
    - ./searchScoring
    - ./searchVisibility
    - ./types
    - ./useCommentDeletion
    - ./useCommentPersistence
    - ./useCommentsApi
    - ./useLayoutApi
    - ./useOrphanedComments
    - ./wsClient
    - ./yamlParsing
compositionHash: 75739f31364387af
metadata:
  createdAt: 2026-01-11T15:14:54.313Z
  updatedAt: 2026-01-11T15:14:54.313Z
