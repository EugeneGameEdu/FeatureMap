version: 1
id: backend-controllers-api
layer: backend
layerDetection:
  confidence: medium
  signals:
    - path contains /api/
    - path contains /backend/
    - path contains /controllers/
    - exports route handlers
    - internal imports reference frontend and backend
    - imports Go web framework
    - imports Go database driver
files:
  - backend/controllers/api/adventure.go
  - backend/controllers/api/api.go
  - backend/controllers/api/auth.go
  - backend/controllers/api/category.go
  - backend/controllers/api/common.go
  - backend/controllers/api/list.go
  - backend/controllers/api/logs.go
  - backend/controllers/api/media.go
  - backend/controllers/api/transfer.go
  - backend/controllers/api/user.go
exports:
  - name: adv
    type: var
  - name: adventureFile
    type: var
  - name: adventureProps
    type: var
  - name: API
    type: struct
  - name: AuthCredentials
    type: struct
  - name: Authenticate
    type: function
  - name: categoryPayload
    type: struct
  - name: CopyAdventureById
    type: function
  - name: CopyAdventureMedia
    type: function
  - name: CountNodeStatistics
    type: function
  - name: CreateAdventure
    type: function
  - name: CreateCategory
    type: function
  - name: CreateExportZip
    type: function
  - name: CreateList
    type: function
  - name: CreateUser
    type: function
  - name: credentials
    type: var
  - name: data
    type: var
  - name: DeleteAdventureByID
    type: function
  - name: DeleteCategory
    type: function
  - name: DeleteList
    type: function
  - name: DeleteMedia
    type: function
  - name: DeleteMediaFolder
    type: function
  - name: DeleteUser
    type: function
  - name: empty
    type: const
  - name: err
    type: var
  - name: ErrCredentialsPayload
    type: var
  - name: ErrTokenIssuer
    type: var
  - name: ExportAdventure
    type: function
  - name: filter
    type: struct
  - name: filterPayload
    type: struct
  - name: GetAdventure
    type: function
  - name: GetAdventureByID
    type: function
  - name: GetAdventureForEdit
    type: function
  - name: GetAdventuresByFilter
    type: function
  - name: GetAdventuresByList
    type: function
  - name: GetCategories
    type: function
  - name: GetCategory
    type: function
  - name: GetImage
    type: function
  - name: GetImageCategories
    type: function
  - name: GetImagesByCategory
    type: function
  - name: GetList
    type: function
  - name: GetLists
    type: function
  - name: GetNodeStatisticsById
    type: function
  - name: GetUser
    type: function
  - name: GetUsers
    type: function
  - name: i
    type: var
  - name: Image
    type: struct
  - name: ImportAdventure
    type: function
  - name: listPayload
    type: struct
  - name: NewAPIController
    type: function
  - name: nodes
    type: var
  - name: pagination
    type: struct
  - name: payload
    type: var
  - name: PrettyJSON
    type: function
  - name: props
    type: var
  - name: relPath
    type: var
  - name: ReportAdventure
    type: function
  - name: reportPayload
    type: struct
  - name: respondWithError
    type: function
  - name: respondWithJSON
    type: function
  - name: statsParams
    type: struct
  - name: tab
    type: const
  - name: templateBuffer
    type: var
  - name: TokenPayload
    type: struct
  - name: UpdateAdventureByID
    type: function
  - name: UpdateAdventureContent
    type: function
  - name: UpdateCategory
    type: function
  - name: UpdateList
    type: function
  - name: UpdateUser
    type: function
  - name: UploadMedia
    type: function
  - name: userPayload
    type: struct
imports:
  external:
    - archive/zip
    - bytes
    - database/sql
    - encoding/json
    - errors
    - fmt
    - github.com/gorilla/mux
    - html/template
    - io
    - io/ioutil
    - net/http
    - os
    - path
    - path/filepath
    - strconv
    - strings
  internal:
    - projektps/controllers/web
    - projektps/helpers/jwt
    - projektps/helpers/unsplash
    - projektps/models
    - projektps/store
compositionHash: 981d97f5bb12fb94
metadata:
  createdAt: 2026-01-07T11:21:49.948Z
  updatedAt: 2026-01-07T11:22:03.830Z
