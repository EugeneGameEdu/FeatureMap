version: 1
id: cli-utils
layer: infrastructure
layerDetection:
  confidence: medium
  signals:
    - cluster id starts with cli-
files:
  - packages/cli/src/utils/cluster-builder.ts
  - packages/cli/src/utils/file-categories.ts
  - packages/cli/src/utils/layout-builder.ts
  - packages/cli/src/utils/scanCompare.ts
  - packages/cli/src/utils/version-checker.ts
  - packages/cli/src/utils/yaml-key-order.ts
  - packages/cli/src/utils/yaml-loader.ts
exports:
  - isDefault: false
    name: areClustersEquivalent
    type: function
  - isDefault: false
    name: areFeaturesEquivalent
    type: function
  - isDefault: false
    name: areGraphsEquivalent
    type: function
  - isDefault: false
    name: buildClusterFile
    type: function
  - isDefault: false
    name: buildDefaultLayout
    type: function
  - isDefault: false
    name: buildUpdatedMetadata
    type: function
  - isDefault: false
    name: checkVersion
    type: function
  - isDefault: false
    name: getKeyComparator
    type: function
  - isDefault: false
    name: isAuthoredFile
    type: function
  - isDefault: false
    name: isDerivedFile
    type: function
  - isDefault: false
    name: KEY_ORDER
    type: variable
  - isDefault: false
    name: loadYAML
    type: function
  - isDefault: false
    name: LoadYAMLOptions
    type: interface
  - isDefault: false
    name: saveYAML
    type: function
  - isDefault: false
    name: VersionCheckError
    type: class
  - isDefault: false
    name: VersionCheckResult
    type: interface
  - isDefault: false
    name: YAMLWriteOptions
    type: interface
imports:
  external:
    - crypto
    - fs
    - path
    - yaml
    - zod
  internal:
    - ../analyzer/graph.js
    - ../analyzer/grouper.js
    - ../analyzer/layer-detector.js
    - ../constants/versions.js
    - ../types/index.js
    - ../types/layout.js
    - ./version-checker.js
    - ./yaml-key-order.js
compositionHash: 7df9af14d61bc8bdd675dcdf4236ec3b49416d0950d3630679a2f8bf5f05ffe2
metadata:
  createdAt: 2026-01-05T10:17:11.298Z
  updatedAt: 2026-01-05T10:44:26.151Z
