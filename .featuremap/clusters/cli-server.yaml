version: 1
id: cli-server
layer: backend
layerDetection:
  layer: backend
  confidence: medium
  signals:
    - imports express
    - path contains /server/
files:
  - packages/cli/src/server/commentsStore.ts
  - packages/cli/src/server/createServer.ts
  - packages/cli/src/server/featuremapDataMirror.ts
  - packages/cli/src/server/groupStore.ts
  - packages/cli/src/server/layoutStore.ts
  - packages/cli/src/server/security.ts
  - packages/cli/src/server/webHosting.ts
  - packages/cli/src/server/wsHub.ts
exports:
  - isDefault: false
    name: CommentUpsertInput
    type: interface
  - isDefault: false
    name: createServer
    type: function
  - isDefault: false
    name: createWsHub
    type: function
  - isDefault: false
    name: deleteComment
    type: function
  - isDefault: false
    name: enforceLocalhost
    type: function
  - isDefault: false
    name: FeaturemapServer
    type: interface
  - isDefault: false
    name: FeaturemapWsMessage
    type: type
  - isDefault: false
    name: isLocalhostRequest
    type: function
  - isDefault: false
    name: LayoutPositionsUpdate
    type: interface
  - isDefault: false
    name: listComments
    type: function
  - isDefault: false
    name: requireToken
    type: function
  - isDefault: false
    name: setupWebHosting
    type: function
  - isDefault: false
    name: syncFeaturemapDataFile
    type: function
  - isDefault: false
    name: updateGroupNote
    type: function
  - isDefault: false
    name: updateLayoutPositions
    type: function
  - isDefault: false
    name: upsertComment
    type: function
  - isDefault: false
    name: WebHostingHandle
    type: interface
  - isDefault: false
    name: WsHub
    type: interface
imports:
  external:
    - express
    - fs
    - http
    - module
    - net
    - path
    - url
    - ws
  internal:
    - ../constants/versions.js
    - ../types/index.js
    - ../utils/featuremapWebSync.js
    - ../utils/yaml-loader.js
    - ./routes/commentsRoutes.js
    - ./routes/contextUpdate.js
    - ./routes/groupRoutes.js
    - ./routes/layoutRoutes.js
    - ./security.js
    - ./webHosting.js
    - ./wsHub.js
compositionHash: 7bfc36f67ffae782
metadata:
  createdAt: 2026-01-13T15:40:50.543Z
  updatedAt: 2026-01-13T15:40:50.543Z
